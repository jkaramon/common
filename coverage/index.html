<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <title>Code coverage for Common</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <script src='./assets/0.3.9/jquery-1.4.2.min.js' type='text/javascript'></script>
    <script src='./assets/0.3.9/jquery.dataTables.min.js' type='text/javascript'></script>   
    <script src='./assets/0.3.9/fancybox/jquery.fancybox-1.3.1.pack.js' type='text/javascript'></script>   
    <script src='./assets/0.3.9/jquery.timeago.js' type='text/javascript'></script>   
    <script src='./assets/0.3.9/jquery.url.js' type='text/javascript'></script>   
    <script src='./assets/0.3.9/app.js' type='text/javascript'></script>    
    <link href='./assets/0.3.9/stylesheet.css' media='screen, projection, print' rel='stylesheet' type='text/css'>
    <link href='./assets/0.3.9/fancybox/jquery.fancybox-1.3.1.css' media='screen, projection, print' rel='stylesheet' type='text/css'>
    <link href='./assets/0.3.9/smoothness/jquery-ui-1.8.4.custom.css' media='screen, projection, print' rel='stylesheet' type='text/css'>    
    <link rel="shortcut icon" type="image/png" href="./assets/0.3.9/favicon.png" />
    <link rel="icon" type="image/png" href="./assets/0.3.9/favicon.png" />
  </head>
  
  <body>
    <div id="loading">
      <img src="./assets/0.3.9/loading.gif" alt="loading"/>
    </div>
    <div id="wrapper" style="display:none;">
      <div class="timestamp">Generated <abbr class="timeago" title="2010-12-15T22:33:26+01:00">2010-12-15T22:33:26+01:00</abbr></div>
      <ul class="group_tabs"></ul>

      <div id="content">
        <div class="file_list_container" id="AllFiles">
  <h2>
    All Files
    (<span class="red">41.51%</span>)
  </h2>
  <a name="AllFiles"></a>
  <div>
    <b>80</b> files in total.
    <b>2137</b> relevant lines. 
    <span class="green"><b>887</b> lines covered</span> and
    <span class="red"><b>1250</b> lines missed </span>
  </div>
  <table class="file_list">
    <thead>
      <tr>
        <th>File</th>
        <th>% covered</th>
        <th>Lines</th>
        <th>Relevant Lines</th>
        <th>Lines covered</th>
        <th>Lines missed</th>
      </tr>
    </thead>
    <tbody>
      
      <tr>
        <td><a href="#922c0de4c35d4c8a5473f743bbcb3ba234013712" class="src_link" title="./lib/common.rb">./lib/common.rb</a></td>
        <td class="green">100.0 %</td>
        <td>24</td>
        <td>22</td>
        <td>22</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#9649c7c5734c89dd207c9732767e0a81ae78167b" class="src_link" title="./lib/common/app_config_loader.rb">./lib/common/app_config_loader.rb</a></td>
        <td class="red">50.0 %</td>
        <td>12</td>
        <td>6</td>
        <td>3</td>
        <td>3</td>
      </tr>
      
      <tr>
        <td><a href="#b6519b5e3e682d232ca076cb2ff9927860a634a2" class="src_link" title="./lib/common/app_servers.rb">./lib/common/app_servers.rb</a></td>
        <td class="green">100.0 %</td>
        <td>3</td>
        <td>2</td>
        <td>2</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#de13b227ecfec04bc6d4ff91037d62e9ad77a9c6" class="src_link" title="./lib/common/app_servers/job_server.rb">./lib/common/app_servers/job_server.rb</a></td>
        <td class="red">23.88 %</td>
        <td>148</td>
        <td>67</td>
        <td>16</td>
        <td>51</td>
      </tr>
      
      <tr>
        <td><a href="#5bb6294b48e44dccaa68b221a054cb7ebebc168f" class="src_link" title="./lib/common/custom_form_builder.rb">./lib/common/custom_form_builder.rb</a></td>
        <td class="green">100.0 %</td>
        <td>2</td>
        <td>1</td>
        <td>1</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#d63b6bbdfc754043379bc298e482449a172b6cdb" class="src_link" title="./lib/common/custom_form_builder/base.rb">./lib/common/custom_form_builder/base.rb</a></td>
        <td class="red">67.39 %</td>
        <td>92</td>
        <td>46</td>
        <td>31</td>
        <td>15</td>
      </tr>
      
      <tr>
        <td><a href="#090add22d928c3c91166394790540b2d6361ca25" class="src_link" title="./lib/common/custom_form_builder/container_controls.rb">./lib/common/custom_form_builder/container_controls.rb</a></td>
        <td class="red">17.02 %</td>
        <td>99</td>
        <td>47</td>
        <td>8</td>
        <td>39</td>
      </tr>
      
      <tr>
        <td><a href="#30d38947fa91eb616b9ac32fc04993e623cde14e" class="src_link" title="./lib/common/custom_form_builder/custom_field_controls.rb">./lib/common/custom_form_builder/custom_field_controls.rb</a></td>
        <td class="red">42.86 %</td>
        <td>17</td>
        <td>7</td>
        <td>3</td>
        <td>4</td>
      </tr>
      
      <tr>
        <td><a href="#c9b6a4c01d8147b7b2f64660584e2e14e45af80c" class="src_link" title="./lib/common/custom_form_builder/helpers.rb">./lib/common/custom_form_builder/helpers.rb</a></td>
        <td class="red">57.14 %</td>
        <td>17</td>
        <td>7</td>
        <td>4</td>
        <td>3</td>
      </tr>
      
      <tr>
        <td><a href="#dff629bdbe686dfbd4f85baa1f8411eed37b3edb" class="src_link" title="./lib/common/custom_form_builder/nested_forms.rb">./lib/common/custom_form_builder/nested_forms.rb</a></td>
        <td class="red">35.71 %</td>
        <td>53</td>
        <td>14</td>
        <td>5</td>
        <td>9</td>
      </tr>
      
      <tr>
        <td><a href="#dbfa0b622821b42ebe379b0600cf0f845a7feb43" class="src_link" title="./lib/common/custom_form_builder/partials.rb">./lib/common/custom_form_builder/partials.rb</a></td>
        <td class="red">50.0 %</td>
        <td>17</td>
        <td>8</td>
        <td>4</td>
        <td>4</td>
      </tr>
      
      <tr>
        <td><a href="#020f7fe20f7944c42e3f34ebeb8a578ab1a70668" class="src_link" title="./lib/common/custom_form_builder/select_controls.rb">./lib/common/custom_form_builder/select_controls.rb</a></td>
        <td class="red">15.0 %</td>
        <td>460</td>
        <td>240</td>
        <td>36</td>
        <td>204</td>
      </tr>
      
      <tr>
        <td><a href="#0c318e3f23690a50892e39561edf628673087806" class="src_link" title="./lib/common/custom_form_builder/simple_controls.rb">./lib/common/custom_form_builder/simple_controls.rb</a></td>
        <td class="red">15.72 %</td>
        <td>414</td>
        <td>229</td>
        <td>36</td>
        <td>193</td>
      </tr>
      
      <tr>
        <td><a href="#03eda05a664f0a0a8d3d203056fc2241d7278923" class="src_link" title="./lib/common/custom_form_builder/state_controls.rb">./lib/common/custom_form_builder/state_controls.rb</a></td>
        <td class="red">14.29 %</td>
        <td>82</td>
        <td>35</td>
        <td>5</td>
        <td>30</td>
      </tr>
      
      <tr>
        <td><a href="#a5ee2904c1d769edadc52295dabf85dfd64defe4" class="src_link" title="./lib/common/custom_form_builder/suggest_controls.rb">./lib/common/custom_form_builder/suggest_controls.rb</a></td>
        <td class="red">18.56 %</td>
        <td>147</td>
        <td>97</td>
        <td>18</td>
        <td>79</td>
      </tr>
      
      <tr>
        <td><a href="#bb1389c6ed968fde0e1ee386126e92cd5bdc3df9" class="src_link" title="./lib/common/custom_form_builder/tab_panels.rb">./lib/common/custom_form_builder/tab_panels.rb</a></td>
        <td class="red">23.53 %</td>
        <td>69</td>
        <td>34</td>
        <td>8</td>
        <td>26</td>
      </tr>
      
      <tr>
        <td><a href="#071e3da8cce0fc4dd2e4fec872f9303cc8015453" class="src_link" title="./lib/common/db_connection.rb">./lib/common/db_connection.rb</a></td>
        <td class="red">25.0 %</td>
        <td>25</td>
        <td>12</td>
        <td>3</td>
        <td>9</td>
      </tr>
      
      <tr>
        <td><a href="#66734a2513362272b52e1cefc357984e1d2bef09" class="src_link" title="./lib/common/db_manager.rb">./lib/common/db_manager.rb</a></td>
        <td class="red">43.48 %</td>
        <td>102</td>
        <td>46</td>
        <td>20</td>
        <td>26</td>
      </tr>
      
      <tr>
        <td><a href="#3b6ffcae1c0774cb2ce9e3c194b32470609dd453" class="src_link" title="./lib/common/db_seed.rb">./lib/common/db_seed.rb</a></td>
        <td class="green">100.0 %</td>
        <td>2</td>
        <td>2</td>
        <td>2</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#63da6b15882b5d038416d9eef89540d4b39608c7" class="src_link" title="./lib/common/db_seed/base_seed.rb">./lib/common/db_seed/base_seed.rb</a></td>
        <td class="red">28.36 %</td>
        <td>138</td>
        <td>67</td>
        <td>19</td>
        <td>48</td>
      </tr>
      
      <tr>
        <td><a href="#b29ca8cc0bc45d066e4def7c5d0b95024726e62f" class="src_link" title="./lib/common/db_seed/db_version.rb">./lib/common/db_seed/db_version.rb</a></td>
        <td class="green">100.0 %</td>
        <td>8</td>
        <td>4</td>
        <td>4</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#a5afee3a2e67ea7b1664da849a839796395e6b45" class="src_link" title="./lib/common/db_seed/yaml_seed_store.rb">./lib/common/db_seed/yaml_seed_store.rb</a></td>
        <td class="red">25.0 %</td>
        <td>23</td>
        <td>12</td>
        <td>3</td>
        <td>9</td>
      </tr>
      
      <tr>
        <td><a href="#722b69e8ce351f36d4d828f4325ebf10a834ef78" class="src_link" title="./lib/common/error_notifier.rb">./lib/common/error_notifier.rb</a></td>
        <td class="green">100.0 %</td>
        <td>12</td>
        <td>3</td>
        <td>3</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#ea80b4d7a94de80e5d8decca36d2ecd7374dcc86" class="src_link" title="./lib/common/ext.rb">./lib/common/ext.rb</a></td>
        <td class="green">100.0 %</td>
        <td>4</td>
        <td>4</td>
        <td>4</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#0bf8971ffc717ca057f6434b9df87aa46abdcc75" class="src_link" title="./lib/common/ext/array.rb">./lib/common/ext/array.rb</a></td>
        <td class="red">25.0 %</td>
        <td>17</td>
        <td>12</td>
        <td>3</td>
        <td>9</td>
      </tr>
      
      <tr>
        <td><a href="#75459206fac37dabef0edf436dc846dae2b4b89c" class="src_link" title="./lib/common/ext/mongo_mapper_types.rb">./lib/common/ext/mongo_mapper_types.rb</a></td>
        <td class="red">33.33 %</td>
        <td>36</td>
        <td>21</td>
        <td>7</td>
        <td>14</td>
      </tr>
      
      <tr>
        <td><a href="#e21eff9963dfce4556935ec535b70d2de2cf59f3" class="src_link" title="./lib/common/ext/sanitize_oid.rb">./lib/common/ext/sanitize_oid.rb</a></td>
        <td class="green">100.0 %</td>
        <td>21</td>
        <td>7</td>
        <td>7</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#33606d8e718d187ee37ff68b258d496628f6b07b" class="src_link" title="./lib/common/ext/time_extensions.rb">./lib/common/ext/time_extensions.rb</a></td>
        <td class="red">55.56 %</td>
        <td>35</td>
        <td>18</td>
        <td>10</td>
        <td>8</td>
      </tr>
      
      <tr>
        <td><a href="#3396f5b91b4c5a15c0293129451eb752b4c6e1b5" class="src_link" title="./lib/common/feature_toggle.rb">./lib/common/feature_toggle.rb</a></td>
        <td class="green">100.0 %</td>
        <td>4</td>
        <td>3</td>
        <td>3</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#faded7479109bcc321750e06ef75bc050b25e356" class="src_link" title="./lib/common/feature_toggle/feature.rb">./lib/common/feature_toggle/feature.rb</a></td>
        <td class="yellow">85.71 %</td>
        <td>25</td>
        <td>14</td>
        <td>12</td>
        <td>2</td>
      </tr>
      
      <tr>
        <td><a href="#a6f4849aa88b9d44cf5ed12c12553be49c0f9293" class="src_link" title="./lib/common/feature_toggle/rails_toggler.rb">./lib/common/feature_toggle/rails_toggler.rb</a></td>
        <td class="red">75.0 %</td>
        <td>9</td>
        <td>4</td>
        <td>3</td>
        <td>1</td>
      </tr>
      
      <tr>
        <td><a href="#4bac236389bf62bed70f04d48a4af7e2f4a14225" class="src_link" title="./lib/common/feature_toggle/toggler.rb">./lib/common/feature_toggle/toggler.rb</a></td>
        <td class="green">100.0 %</td>
        <td>52</td>
        <td>30</td>
        <td>30</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#9aae5cb362a8c9e27c1741759a8a222f39de42cf" class="src_link" title="./lib/common/grid_list.rb">./lib/common/grid_list.rb</a></td>
        <td class="red">33.33 %</td>
        <td>13</td>
        <td>6</td>
        <td>2</td>
        <td>4</td>
      </tr>
      
      <tr>
        <td><a href="#b696f1605eb9d229fab095d472573d59593ca9e1" class="src_link" title="./lib/common/jobs.rb">./lib/common/jobs.rb</a></td>
        <td class="green">100.0 %</td>
        <td>7</td>
        <td>6</td>
        <td>6</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#3029023edcba0b12260f9d842477005b5e3fe8e2" class="src_link" title="./lib/common/jobs/base.rb">./lib/common/jobs/base.rb</a></td>
        <td class="red">75.0 %</td>
        <td>66</td>
        <td>36</td>
        <td>27</td>
        <td>9</td>
      </tr>
      
      <tr>
        <td><a href="#818da3252ea3991e45e08e48e2916a9a1c638975" class="src_link" title="./lib/common/jobs/configuration/base_configuration.rb">./lib/common/jobs/configuration/base_configuration.rb</a></td>
        <td class="red">46.15 %</td>
        <td>76</td>
        <td>39</td>
        <td>18</td>
        <td>21</td>
      </tr>
      
      <tr>
        <td><a href="#c72bdda2f93cc8d9f3f5d76476cc766ea475b504" class="src_link" title="./lib/common/jobs/queue_processor.rb">./lib/common/jobs/queue_processor.rb</a></td>
        <td class="green">91.3 %</td>
        <td>39</td>
        <td>23</td>
        <td>21</td>
        <td>2</td>
      </tr>
      
      <tr>
        <td><a href="#1b263012fbd8f4f0ca82cb6ef6c585f7523ae72e" class="src_link" title="./lib/common/jobs/tracking/base_tracker.rb">./lib/common/jobs/tracking/base_tracker.rb</a></td>
        <td class="green">90.24 %</td>
        <td>89</td>
        <td>41</td>
        <td>37</td>
        <td>4</td>
      </tr>
      
      <tr>
        <td><a href="#ea090cd9f6da09de8a66c403c8178d04558fc11c" class="src_link" title="./lib/common/jobs/tracking/queue_processor_tracker.rb">./lib/common/jobs/tracking/queue_processor_tracker.rb</a></td>
        <td class="green">100.0 %</td>
        <td>17</td>
        <td>6</td>
        <td>6</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#c721fa27d5341d49099672d39367920a4d7f42b6" class="src_link" title="./lib/common/logging.rb">./lib/common/logging.rb</a></td>
        <td class="red">61.54 %</td>
        <td>25</td>
        <td>13</td>
        <td>8</td>
        <td>5</td>
      </tr>
      
      <tr>
        <td><a href="#ff51154feab3d152b6d4e182f504ced20c9307fb" class="src_link" title="./lib/common/messaging.rb">./lib/common/messaging.rb</a></td>
        <td class="green">100.0 %</td>
        <td>5</td>
        <td>4</td>
        <td>4</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#d4aeb0ea06fb662a35c7d64dda1868b819064ffb" class="src_link" title="./lib/common/messaging/message.rb">./lib/common/messaging/message.rb</a></td>
        <td class="green">100.0 %</td>
        <td>14</td>
        <td>4</td>
        <td>4</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#c8563fb7162055c282c592638bf3889f55091080" class="src_link" title="./lib/common/messaging/mongo_backend.rb">./lib/common/messaging/mongo_backend.rb</a></td>
        <td class="green">100.0 %</td>
        <td>62</td>
        <td>29</td>
        <td>29</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#35bfcb1806813d135837882e2b3f64b50c14f13a" class="src_link" title="./lib/common/messaging/queue.rb">./lib/common/messaging/queue.rb</a></td>
        <td class="green">100.0 %</td>
        <td>14</td>
        <td>6</td>
        <td>6</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#5b939659af22571dc0838dee502648663ae022fe" class="src_link" title="./lib/common/middlewares.rb">./lib/common/middlewares.rb</a></td>
        <td class="green">100.0 %</td>
        <td>2</td>
        <td>2</td>
        <td>2</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#98f6834e60fcd7cf57f9ce16e83d0842dc2b1537" class="src_link" title="./lib/common/middlewares/i18n_js.rb">./lib/common/middlewares/i18n_js.rb</a></td>
        <td class="red">16.0 %</td>
        <td>52</td>
        <td>25</td>
        <td>4</td>
        <td>21</td>
      </tr>
      
      <tr>
        <td><a href="#41c6f4144227f8234c9bfb5ea1e4c8015fdf204b" class="src_link" title="./lib/common/middlewares/mongo_mapper_cleanup.rb">./lib/common/middlewares/mongo_mapper_cleanup.rb</a></td>
        <td class="red">36.36 %</td>
        <td>19</td>
        <td>11</td>
        <td>4</td>
        <td>7</td>
      </tr>
      
      <tr>
        <td><a href="#8d3fa01e89fdacf1017c5fb79b826fe05d0e8db3" class="src_link" title="./lib/common/mongo_mapper.rb">./lib/common/mongo_mapper.rb</a></td>
        <td class="green">100.0 %</td>
        <td>1</td>
        <td>1</td>
        <td>1</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#249dc8539b9d014dd85b759da5c3b05e6ac29c1e" class="src_link" title="./lib/common/mongo_mapper/plugins.rb">./lib/common/mongo_mapper/plugins.rb</a></td>
        <td class="green">100.0 %</td>
        <td>28</td>
        <td>19</td>
        <td>19</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#42b0b2076627cd8e4ad0dbc6dbf4110397998ade" class="src_link" title="./lib/common/mongo_mapper/plugins/archivable.rb">./lib/common/mongo_mapper/plugins/archivable.rb</a></td>
        <td class="red">33.33 %</td>
        <td>32</td>
        <td>18</td>
        <td>6</td>
        <td>12</td>
      </tr>
      
      <tr>
        <td><a href="#5049620e6913ef071c08a6bfff499ba1b153e9e1" class="src_link" title="./lib/common/mongo_mapper/plugins/basic_entity_state.rb">./lib/common/mongo_mapper/plugins/basic_entity_state.rb</a></td>
        <td class="red">31.82 %</td>
        <td>47</td>
        <td>22</td>
        <td>7</td>
        <td>15</td>
      </tr>
      
      <tr>
        <td><a href="#1ea86da1b5b2dba6c332ab65fd2fd911cafebb50" class="src_link" title="./lib/common/mongo_mapper/plugins/codelist.rb">./lib/common/mongo_mapper/plugins/codelist.rb</a></td>
        <td class="red">53.85 %</td>
        <td>28</td>
        <td>13</td>
        <td>7</td>
        <td>6</td>
      </tr>
      
      <tr>
        <td><a href="#543e79efcca0f2fce04957fdcebed445fc9fc1ef" class="src_link" title="./lib/common/mongo_mapper/plugins/custom_field.rb">./lib/common/mongo_mapper/plugins/custom_field.rb</a></td>
        <td class="red">35.0 %</td>
        <td>40</td>
        <td>20</td>
        <td>7</td>
        <td>13</td>
      </tr>
      
      <tr>
        <td><a href="#70521c74cf6901187961fb7fce328fe8a4767888" class="src_link" title="./lib/common/mongo_mapper/plugins/custom_field_type.rb">./lib/common/mongo_mapper/plugins/custom_field_type.rb</a></td>
        <td class="red">57.14 %</td>
        <td>16</td>
        <td>7</td>
        <td>4</td>
        <td>3</td>
      </tr>
      
      <tr>
        <td><a href="#178f2680a09e100c0892fe01507e5864780ee5e6" class="src_link" title="./lib/common/mongo_mapper/plugins/id_generator.rb">./lib/common/mongo_mapper/plugins/id_generator.rb</a></td>
        <td class="red">36.36 %</td>
        <td>64</td>
        <td>33</td>
        <td>12</td>
        <td>21</td>
      </tr>
      
      <tr>
        <td><a href="#f1602862afab3c5bfc619cd18f2af7608aa6b38d" class="src_link" title="./lib/common/mongo_mapper/plugins/localization.rb">./lib/common/mongo_mapper/plugins/localization.rb</a></td>
        <td class="red">23.33 %</td>
        <td>53</td>
        <td>30</td>
        <td>7</td>
        <td>23</td>
      </tr>
      
      <tr>
        <td><a href="#2a217047a1cc4b07f301a81134d7f74eec988c27" class="src_link" title="./lib/common/mongo_mapper/plugins/nested_attributes.rb">./lib/common/mongo_mapper/plugins/nested_attributes.rb</a></td>
        <td class="red">22.41 %</td>
        <td>110</td>
        <td>58</td>
        <td>13</td>
        <td>45</td>
      </tr>
      
      <tr>
        <td><a href="#61e41530d208abb573d3b570a7fc27c6fd9e0124" class="src_link" title="./lib/common/mongo_mapper/plugins/search_builder.rb">./lib/common/mongo_mapper/plugins/search_builder.rb</a></td>
        <td class="red">64.29 %</td>
        <td>31</td>
        <td>14</td>
        <td>9</td>
        <td>5</td>
      </tr>
      
      <tr>
        <td><a href="#dc6293c1ca485e835e266972ea608bb0b9572451" class="src_link" title="./lib/common/mongo_mapper/plugins/state_terminated.rb">./lib/common/mongo_mapper/plugins/state_terminated.rb</a></td>
        <td class="red">61.54 %</td>
        <td>27</td>
        <td>13</td>
        <td>8</td>
        <td>5</td>
      </tr>
      
      <tr>
        <td><a href="#af67d414901845cfc2e6fc284f48af6ed9730f7f" class="src_link" title="./lib/common/mongo_migrations.rb">./lib/common/mongo_migrations.rb</a></td>
        <td class="green">100.0 %</td>
        <td>5</td>
        <td>4</td>
        <td>4</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#f76bb327e48c579b706f83e8db6f4e69b1338acd" class="src_link" title="./lib/common/mongo_migrations/log_entry.rb">./lib/common/mongo_migrations/log_entry.rb</a></td>
        <td class="green">100.0 %</td>
        <td>8</td>
        <td>6</td>
        <td>6</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#fafbe50a08c9a41ff938f16adbfab12299ffa7a5" class="src_link" title="./lib/common/mongo_migrations/migration_run.rb">./lib/common/mongo_migrations/migration_run.rb</a></td>
        <td class="yellow">84.78 %</td>
        <td>88</td>
        <td>46</td>
        <td>39</td>
        <td>7</td>
      </tr>
      
      <tr>
        <td><a href="#f520bceb00d3c0af10d94972c604721a61db9289" class="src_link" title="./lib/common/mongo_migrations/runner.rb">./lib/common/mongo_migrations/runner.rb</a></td>
        <td class="green">100.0 %</td>
        <td>108</td>
        <td>59</td>
        <td>59</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#a343323353985d96bad50aa84fd22cc4819258f2" class="src_link" title="./lib/common/patches.rb">./lib/common/patches.rb</a></td>
        <td class="green">100.0 %</td>
        <td>8</td>
        <td>7</td>
        <td>7</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#d496711cb666377a2932e51bcb13c17bab4eec7c" class="src_link" title="./lib/common/patches/action_controller.rb">./lib/common/patches/action_controller.rb</a></td>
        <td class="red">66.67 %</td>
        <td>29</td>
        <td>9</td>
        <td>6</td>
        <td>3</td>
      </tr>
      
      <tr>
        <td><a href="#4b601c27a0abca2f15baa39cc53029ef6dae3f6b" class="src_link" title="./lib/common/patches/cancan.rb">./lib/common/patches/cancan.rb</a></td>
        <td class="red">57.14 %</td>
        <td>13</td>
        <td>7</td>
        <td>4</td>
        <td>3</td>
      </tr>
      
      <tr>
        <td><a href="#897f040ef70caf293968c06823d6288c291dcdda" class="src_link" title="./lib/common/patches/capybara.rb">./lib/common/patches/capybara.rb</a></td>
        <td class="red">55.56 %</td>
        <td>19</td>
        <td>9</td>
        <td>5</td>
        <td>4</td>
      </tr>
      
      <tr>
        <td><a href="#26211fdd1945616012636d1fde2aaeed79a54301" class="src_link" title="./lib/common/patches/mail.rb">./lib/common/patches/mail.rb</a></td>
        <td class="red">40.0 %</td>
        <td>15</td>
        <td>10</td>
        <td>4</td>
        <td>6</td>
      </tr>
      
      <tr>
        <td><a href="#0c5600ecb283ba6a7902ca9d0fdea97f5b19afd4" class="src_link" title="./lib/common/patches/mongo_mapper.rb">./lib/common/patches/mongo_mapper.rb</a></td>
        <td class="red">70.0 %</td>
        <td>27</td>
        <td>10</td>
        <td>7</td>
        <td>3</td>
      </tr>
      
      <tr>
        <td><a href="#a7f88a68b1cbd7174261cf213fefc3b104067bf4" class="src_link" title="./lib/common/patches/pop3.rb">./lib/common/patches/pop3.rb</a></td>
        <td class="red">17.74 %</td>
        <td>118</td>
        <td>62</td>
        <td>11</td>
        <td>51</td>
      </tr>
      
      <tr>
        <td><a href="#46493e865e5b50c72c31354b7bdb880fdf481ff4" class="src_link" title="./lib/common/patches/rack.rb">./lib/common/patches/rack.rb</a></td>
        <td class="red">57.14 %</td>
        <td>14</td>
        <td>7</td>
        <td>4</td>
        <td>3</td>
      </tr>
      
      <tr>
        <td><a href="#9e5ce204325e0924c7c124775da3f2e1b6d6bb9d" class="src_link" title="./lib/common/railtie.rb">./lib/common/railtie.rb</a></td>
        <td class="red">42.86 %</td>
        <td>74</td>
        <td>35</td>
        <td>15</td>
        <td>20</td>
      </tr>
      
      <tr>
        <td><a href="#6f9c9dd89cd5577a0e146ae9ee94e03a41a09fe2" class="src_link" title="./lib/common/railtie_helper.rb">./lib/common/railtie_helper.rb</a></td>
        <td class="red">38.1 %</td>
        <td>49</td>
        <td>21</td>
        <td>8</td>
        <td>13</td>
      </tr>
      
      <tr>
        <td><a href="#b5020828b2c3b656ebed20d8861afc8e558a6329" class="src_link" title="./lib/common/regex.rb">./lib/common/regex.rb</a></td>
        <td class="green">100.0 %</td>
        <td>13</td>
        <td>5</td>
        <td>5</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#4ee65a4a04741b12662ff91851b8dd20838d0512" class="src_link" title="./lib/common/rules.rb">./lib/common/rules.rb</a></td>
        <td class="green">100.0 %</td>
        <td>5</td>
        <td>4</td>
        <td>4</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#d6dcf30fb49d237a35f99fa1e6b1526244020ed4" class="src_link" title="./lib/common/rules/condition_set.rb">./lib/common/rules/condition_set.rb</a></td>
        <td class="red">46.43 %</td>
        <td>57</td>
        <td>28</td>
        <td>13</td>
        <td>15</td>
      </tr>
      
      <tr>
        <td><a href="#69849179cd3ecd72cd4e93ff08f242b1a312b4ca" class="src_link" title="./lib/common/rules/engine.rb">./lib/common/rules/engine.rb</a></td>
        <td class="red">28.57 %</td>
        <td>51</td>
        <td>28</td>
        <td>8</td>
        <td>20</td>
      </tr>
      
      <tr>
        <td><a href="#caabb968a664ee3fd7c02c2625fcffd24533eec5" class="src_link" title="./lib/common/rules/rule.rb">./lib/common/rules/rule.rb</a></td>
        <td class="red">50.0 %</td>
        <td>38</td>
        <td>20</td>
        <td>10</td>
        <td>10</td>
      </tr>
      
      <tr>
        <td><a href="#7d6905d91814a82762e743ffb00775aea0551e20" class="src_link" title="./lib/common/rules/rule_set.rb">./lib/common/rules/rule_set.rb</a></td>
        <td class="red">41.89 %</td>
        <td>148</td>
        <td>74</td>
        <td>31</td>
        <td>43</td>
      </tr>
      
      <tr>
        <td><a href="#f28d604e6fa7745346509dfb5cff28560c925e39" class="src_link" title="./lib/common/simple_uuid.rb">./lib/common/simple_uuid.rb</a></td>
        <td class="red">36.36 %</td>
        <td>136</td>
        <td>66</td>
        <td>24</td>
        <td>42</td>
      </tr>
      
    </tbody>
  </table>
</div>

        
      </div>
    
      <div id="footer">
        Generated by <a href="http://github.com/colszowka/simplecov">simplecov</a> v0.3.7 
        and simplecov-html v0.3.9<br/>
        using /Users/karamon/.rvm/gems/ruby-1.9.2-p0/bin/rspec spec
      </div>
    
      <div class="source_files">
      
        <div class="source_table" id="922c0de4c35d4c8a5473f743bbcb3ba234013712">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require 'common/ext'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>require 'common/error_notifier'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>require 'common/logging'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>require 'common/db_connection'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>require 'common/db_manager'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>require 'common/messaging' </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>require 'common/mongo_migrations' </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>require 'common/jobs'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>require 'common/app_servers'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>require 'common/mongo_mapper'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>require 'common/railtie' if defined?(Rails)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>require 'common/custom_form_builder'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>require 'common/patches'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>require 'common/ext'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>require 'common/app_config_loader'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>require 'common/grid_list'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>require 'common/db_seed'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>require 'common/simple_uuid'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>require 'common/middlewares'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>require 'common/rules'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>require 'common/regex'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>require 'common/feature_toggle'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="9649c7c5734c89dd207c9732767e0a81ae78167b">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/app_config_loader.rb</h3>
        <h4><span class="red">50.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require 'ostruct'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>class AppConfigLoader</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  def self.load(yaml_config_file, env = Rails.env)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    config = ActiveSupport::HashWithIndifferentAccess.new(YAML.load_file(yaml_config_file))</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>    env = &quot;common&quot; unless config.include?(env)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>    OpenStruct.new(config[env])</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="b6519b5e3e682d232ca076cb2ff9927860a634a2">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/app_servers.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module Jobs</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  require_relative 'app_servers/job_server'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="de13b227ecfec04bc6d4ff91037d62e9ad77a9c6">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/app_servers/job_server.rb</h3>
        <h4><span class="red">23.88 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require 'servolux'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>module AppServers</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  # Defines base abstract class to run jobs in server. Inherits from Servolux::Server.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>  # Each Job is run as the forked subprocess.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>  # Server is implemented with &quot;fail-fast&quot; idea. Is something goes wrong (parent or some child process died) then </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>  # try to gracefully terminate other jobs and terminate ASAP.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>  # Therefore - job server should be monitored via some process monitoring tool - Monit, God, ... </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>  #</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>  # Inherited classes should implement #register_jobs method to register jobs.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>  # Example:</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>  # def register_job</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>  #   run_job(:every =&gt; 60) do</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>  #     Jobs::NotificationProcessor.execute</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>  #   end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>  # end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>  #</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>  # Server startup:</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>  # ENV[&quot;RAILS_ENV&quot;] ||= 'development' </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>  # require_relative '../config/boot'</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>  # require_relative &quot;../config/environment&quot;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>  # </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>  # Process.daemon</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>  # server = SDJobs.new('SDJobs', :logger =&gt; Logger.new('/tmp/sd_jobs.log'))</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>  # server.startup</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>  # </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>  #</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>  class JobServer &lt; ::Servolux::Server</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>    attr_accessor :pids</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>    def initialize(name, options = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>      Process.daemon</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>      options[:interval] = 10</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>      super(name, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>    # Inherited classes should implement this method to register jobs.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>    # Example (define in #register_jobs):</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>    #  run_job(:every =&gt; 60) do</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>    #    Jobs::NotificationProcessor.execute</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>    #  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>    # @param [Hash] options </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>    # @option options :interval (60) - interval (seconds), in which job are rerun</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>    def run_job(options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>      job_klass = options[:job_klass]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>      interval = options[:every] || 60</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>      parent_pid = Process.pid</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>      @pids &lt;&lt; fork do</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>        @terminating = false </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>        @worker_thread = Thread.current</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>        trap('INT') do</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>          @terminating = true</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>          @worker_thread.run</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>        loop do</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>          yield unless @terminating</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre>          if @terminating</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre>            exit</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre>          end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>          shallow_sleep(interval, parent_pid)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre>      Process.detach @pids.last</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>65</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>66</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>67</pre>
      </td>
      <td>
        <pre>    def run</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>68</pre>
      </td>
      <td>
        <pre>      if some_job_died? </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>69</pre>
      </td>
      <td>
        <pre>        info &quot;some child process died, so I don't want live anymore too .. &quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>70</pre>
      </td>
      <td>
        <pre>        shutdown</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>71</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>72</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>73</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>74</pre>
      </td>
      <td>
        <pre>    def before_starting</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>75</pre>
      </td>
      <td>
        <pre>      @pids = []</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>76</pre>
      </td>
      <td>
        <pre>      register_jobs</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>77</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>78</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>79</pre>
      </td>
      <td>
        <pre>    def before_stopping</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>80</pre>
      </td>
      <td>
        <pre>      stop_jobs</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>81</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>82</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>83</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>84</pre>
      </td>
      <td>
        <pre>    private</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>85</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>86</pre>
      </td>
      <td>
        <pre>    def info(message)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>87</pre>
      </td>
      <td>
        <pre>      logger.info message</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>88</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>89</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>90</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>91</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>92</pre>
      </td>
      <td>
        <pre>    # wakes up periodically to enable processing iINT</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>93</pre>
      </td>
      <td>
        <pre>    def shallow_sleep(secs, parent_pid)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>94</pre>
      </td>
      <td>
        <pre>      start = Time.now</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>95</pre>
      </td>
      <td>
        <pre>      loop do</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>96</pre>
      </td>
      <td>
        <pre>        wakeup = (Time.now - start) &gt; secs</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>97</pre>
      </td>
      <td>
        <pre>        @terminating = true unless alive?(parent_pid)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>98</pre>
      </td>
      <td>
        <pre>        return if wakeup or @terminating      </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>99</pre>
      </td>
      <td>
        <pre>        sleep 3</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>100</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>101</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>102</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>103</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>104</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>105</pre>
      </td>
      <td>
        <pre>    def some_job_died?</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>106</pre>
      </td>
      <td>
        <pre>      @pids.any? { |pid| not alive?(pid) }</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>107</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>108</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>109</pre>
      </td>
      <td>
        <pre>    def alive?(pid) </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>110</pre>
      </td>
      <td>
        <pre>      pid = Integer(&quot;#{ pid }&quot;) </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>111</pre>
      </td>
      <td>
        <pre>      begin </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>112</pre>
      </td>
      <td>
        <pre>        Process.kill 0, pid </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>113</pre>
      </td>
      <td>
        <pre>        true </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>114</pre>
      </td>
      <td>
        <pre>      rescue Errno::ESRCH </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>115</pre>
      </td>
      <td>
        <pre>        info &quot;Process #{ pid } died.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>116</pre>
      </td>
      <td>
        <pre>        false </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>117</pre>
      </td>
      <td>
        <pre>      end </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>118</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>119</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>120</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>121</pre>
      </td>
      <td>
        <pre>    def stop_jobs</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>122</pre>
      </td>
      <td>
        <pre>      return  if @stopping_jobs</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>123</pre>
      </td>
      <td>
        <pre>      @stopping_jobs = true</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>124</pre>
      </td>
      <td>
        <pre>      @pids.each do |pid|</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>125</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>126</pre>
      </td>
      <td>
        <pre>        info &quot;Stopping #{pid}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>127</pre>
      </td>
      <td>
        <pre>        if alive?(pid) </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>128</pre>
      </td>
      <td>
        <pre>          Process.kill &quot;INT&quot;, pid</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>129</pre>
      </td>
      <td>
        <pre>          info &quot;INT sent #{pid}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>130</pre>
      </td>
      <td>
        <pre>          begin</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>131</pre>
      </td>
      <td>
        <pre>            Process.wait2 pid</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>132</pre>
      </td>
      <td>
        <pre>          rescue Errno::ECHILD </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>133</pre>
      </td>
      <td>
        <pre>          end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>134</pre>
      </td>
      <td>
        <pre>          info &quot;Terminated #{pid}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>135</pre>
      </td>
      <td>
        <pre>          pause</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>136</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>137</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>138</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>139</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>140</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>141</pre>
      </td>
      <td>
        <pre>    def pause</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>142</pre>
      </td>
      <td>
        <pre>      sleep(0.1 + 0.3*rand)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>143</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>144</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>145</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>146</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>147</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>148</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="5bb6294b48e44dccaa68b221a054cb7ebebc168f">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/custom_form_builder.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require_relative 'custom_form_builder/base'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="d63b6bbdfc754043379bc298e482449a172b6cdb">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/custom_form_builder/base.rb</h3>
        <h4><span class="red">67.39 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require 'formtastic'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>require_relative 'helpers'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>require_relative 'container_controls'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>require_relative 'custom_field_controls'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>require_relative 'nested_forms'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>require_relative 'partials'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>require_relative 'select_controls'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>require_relative 'simple_controls'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>require_relative 'state_controls'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>require_relative 'suggest_controls'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>require_relative 'tab_panels'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>module CustomFormBuilder</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>  # Form builder which extends </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>  # @see http://rdoc.info/projects/justinfrench/formtastic&quot; Formtastic::SemanticFormBuilder</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>  # Builder renders controls according to result of the rule engine evaluation. </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>  # Engine evaluates control state (visibility, panel_state) for each control. </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>  # Rules are defined separately for each object in config/visibility_rules.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>  class Base &lt; ::Formtastic::SemanticFormBuilder </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>    include Helpers</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>    include ContainerControls</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>    include SimpleControls</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>    include SelectControls</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>    include SuggestControls</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>    include StateControls</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>    include Partials</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>    include NestedForms</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>    include TabPanels</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>    include CustomFieldControls</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>    # Returns rule object for the given metho name. </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>    # @param [Symbol, String] method - method name of current object</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>    # @return [Rules::Rule] for the method name. If rule engine is not defined, returns enabled rule.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>    def get_rule(method)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>      return Rules::Rule.enabled if rule_engine.nil?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>      control_id = rule_control_id(method).to_sym</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>      rule_engine.evaluate(control_id)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>    # @param [Symbol, String] method - method name of current object</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>    # @return [Boolean] true if visibility rule evaluated to :enabled</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>    def control_enabled?(method)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>      get_rule(method).enabled?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>    # @param [Symbol, String] method - method name of current object</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>    # @return [Boolean] true if visibility rule evaluated to :enabled</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>    def control_disabled?(method)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>      get_rule(method).disabled?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>    # @param [Symbol, String] method - method name of current object</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>    # @return [Boolean] true if visibility rule evaluated to :enabled</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre>    def control_hidden?(method)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>      get_rule(method).hidden?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre>    def summary_options(options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre>      options[:input_html] ||= {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>      options[:input_html][:class] ||= &quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre>      options[:input_html][:class] += &quot; summary &quot; if options.include?(:summary)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre>      if(options.include?(:summary_length))</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre>      options[:input_html][&quot;data-summary_length&quot;] = options[:summary_length] else</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>65</pre>
      </td>
      <td>
        <pre>      options[:input_html][&quot;data-summary_length&quot;] = &quot;20&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>66</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>67</pre>
      </td>
      <td>
        <pre>      options</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>68</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>69</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>70</pre>
      </td>
      <td>
        <pre>    private </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>71</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>72</pre>
      </td>
      <td>
        <pre>    # @param [Symbol, String] method - method name of current object</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>73</pre>
      </td>
      <td>
        <pre>    # @return  [String] control_id as defined in rule file</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>74</pre>
      </td>
      <td>
        <pre>    def rule_control_id(method)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>75</pre>
      </td>
      <td>
        <pre>      generate_html_id(method, &quot;&quot;).gsub(/_$/, &quot;&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>76</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>77</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>78</pre>
      </td>
      <td>
        <pre>    # @param [Symbol, String] method - method name of current object</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>79</pre>
      </td>
      <td>
        <pre>    # @return [Rules::Engine] rule engine instance</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>80</pre>
      </td>
      <td>
        <pre>    def rule_engine</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>81</pre>
      </td>
      <td>
        <pre>      @rule_engine ||= template.controller.rule_engine if template.controller.respond_to?(:rule_engine)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>82</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>83</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>84</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>85</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>86</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>87</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>88</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>89</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>90</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>91</pre>
      </td>
      <td>
        <pre>  end </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>92</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="090add22d928c3c91166394790540b2d6361ca25">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/custom_form_builder/container_controls.rb</h3>
        <h4><span class="red">17.02 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module CustomFormBuilder</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  ##</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  # Container controls are defined here. Container controls is a control which takes block as its last parameter. It effectively wraps content defined in block.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  # It can be then used in view as follows:</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>  #   &lt;% form.content_panel :name=&gt;:subject do  %&gt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>  #     .</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>  #     .</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>  #   &lt;% end %&gt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>  module ContainerControls</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    # Renders top level collapsible fieldset.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    # @param [Hash] options</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>    # @option options [String, Symbol] :name - section header. </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>    # If Symbol is provided then it is used as localization key in scope formtastic.titles </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>    # @param block - block to wrap</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>    def collapsible_fieldset(options = {}, &amp;block)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>      method = &quot;section_#{options[:name]}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>      rule = get_rule(method)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>      return if rule.visibility==:hidden </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>      title = field_set_title_from_args(options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>      state = rule.panel_state</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>      state = :collapsed if options[:collapsed]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>      options[:class] = &quot;inputs #{options[:name]} collapsible #{state} content_panel #{options[:class]}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>      state_icon = options[:collapsed]==true ? 'ui-icon-triangle-1-n' : 'ui-icon-triangle-1-s';</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>      state_text = template.content_tag(:div, &quot;&quot;, :class =&gt; &quot;collapse-state-text&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>      icon = template.content_tag(:div, &quot;&quot;, :class =&gt; &quot;ui-expandable-icon ui-icon #{state_icon}&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>      title = template.content_tag(:div, title, :class =&gt; &quot;content&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>      excerpt = template.content_tag(&quot;span&quot;,&quot;&quot;, :class=&gt;&quot;excerpt&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>      options[:name] = icon + state_text + title + excerpt</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>      field_set_and_list_wrapping_div_legend(options, &amp;block)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>    # Renders top level non-collapsible fieldset.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>    # @param [Hash] options</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>    # @option options [String, Symbol] :name - section header. </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>    # If Symbol is provided then it is used as localization key in scope formtastic.titles </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>    # @param block - block to wrap</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>    def content_panel(options = {}, &amp;block)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>      method = &quot;section_#{options[:name]}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>      return if control_hidden?(method) </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>      title = field_set_title_from_args(options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>      options[:class] = &quot;inputs #{options[:name]} content_panel&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>      options[:name] = template.content_tag(:div, title, :class =&gt; &quot;content&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>      if block_given?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>        field_set_and_list_wrapping_div_legend(options, &amp;block)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre>    # @see Formtastic::SemanticFormBuilder#inputs</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>    def inputs(*args, &amp;block) </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>      options = args.last.is_a?(::Hash) ? args.last : {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre>      return super(*args, &amp;block) unless options.include?(:name)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre>      method = &quot;section_#{options[:name]}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre>      return super(options, &amp;block) if control_enabled?(method) </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>      return super(add_disabled_option(options), &amp;block) if control_disabled?(method) </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>65</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>66</pre>
      </td>
      <td>
        <pre>    private </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>67</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>68</pre>
      </td>
      <td>
        <pre>    # Template file </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>69</pre>
      </td>
      <td>
        <pre>    def tpl_file</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>70</pre>
      </td>
      <td>
        <pre>      template.template</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>71</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>72</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>73</pre>
      </td>
      <td>
        <pre>    # replace legend with div</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>74</pre>
      </td>
      <td>
        <pre>    def field_set_and_list_wrapping_div_legend(*args, &amp;block) #:nodoc:</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>75</pre>
      </td>
      <td>
        <pre>      contents = args.last.is_a?(::Hash) ? '' : args.pop.flatten</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>76</pre>
      </td>
      <td>
        <pre>      html_options = args.extract_options!</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>77</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>78</pre>
      </td>
      <td>
        <pre>      legend  = html_options.delete(:name).to_s</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>79</pre>
      </td>
      <td>
        <pre>      legend %= parent_child_index(html_options[:parent]) if html_options[:parent]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>80</pre>
      </td>
      <td>
        <pre>      legend  = template.content_tag(:div, template.content_tag(:span, legend), :class=&gt;'legend') unless legend.blank?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>81</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>82</pre>
      </td>
      <td>
        <pre>      if block_given?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>83</pre>
      </td>
      <td>
        <pre>        contents = if template.respond_to?(:is_haml?) &amp;&amp; template.is_haml?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>84</pre>
      </td>
      <td>
        <pre>          template.capture_haml(&amp;block)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>85</pre>
      </td>
      <td>
        <pre>        else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>86</pre>
      </td>
      <td>
        <pre>          template.capture(&amp;block)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>87</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>88</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>89</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>90</pre>
      </td>
      <td>
        <pre>      # Ruby 1.9: String#to_s behavior changed, need to make an explicit join.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>91</pre>
      </td>
      <td>
        <pre>      contents = contents.join if contents.respond_to?(:join)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>92</pre>
      </td>
      <td>
        <pre>      fieldset = template.content_tag(:fieldset,</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>93</pre>
      </td>
      <td>
        <pre>        legend &lt;&lt; template.content_tag(:ol, contents),</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>94</pre>
      </td>
      <td>
        <pre>        html_options.except(:builder, :parent)</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>95</pre>
      </td>
      <td>
        <pre>      )</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>96</pre>
      </td>
      <td>
        <pre>      fieldset</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>97</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>98</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>99</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="30d38947fa91eb616b9ac32fc04993e623cde14e">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/custom_form_builder/custom_field_controls.rb</h3>
        <h4><span class="red">42.86 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module CustomFormBuilder</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  module CustomFieldControls</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>    # Defines available meta_fields</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    # @see CustomFields::MetaFields::Base</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>    def meta_field_type</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>      options = CustomFields::MetaFields.all_classes.collect do |klass|</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>        selected = &quot;selected='selected'&quot; if  object.meta_field.class == klass</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>        &quot;&lt;option value='#{klass.to_s}' #{selected}&gt;#{klass.human_name}&lt;/option&gt;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>      end </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>      template.content_tag :li, template.label_tag(&quot;meta_field_type&quot;) &lt;&lt;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>      template.raw(template.select_tag(&quot;meta_field_type&quot;, template.raw(options), :class =&gt; :meta_field_type))</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="c9b6a4c01d8147b7b2f64660584e2e14e45af80c">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/custom_form_builder/helpers.rb</h3>
        <h4><span class="red">57.14 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module CustomFormBuilder</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  # Form builder misc control helpers</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  module Helpers</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    private </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>    # Adds or overwrite [:input_html][:disabled] = &quot;disabled&quot; in options hash</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>    # @param [Hash] options </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    def add_disabled_option(options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>      options[:input_html] ||= {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>      options[:input_html][:disabled] = &quot;disabled&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>      options</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="dff629bdbe686dfbd4f85baa1f8411eed37b3edb">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/custom_form_builder/nested_forms.rb</h3>
        <h4><span class="red">35.71 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module CustomFormBuilder</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  # Nested form implementation was stolen from these examples:</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  # http://railscasts.com/episodes/196-nested-model-form-part-1,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  # http://railscasts.com/episodes/197-nested-model-form-part-2.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>  # </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>  # Javascript support is already implemented in application.js</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>  # </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>  # @example Usage (assuming that root document (Ticket) has many workarounds):</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>  #   &lt;!-- Render existing workaround --&gt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>  #   &lt;% form.semantic_fields_for :workarounds, form.object.workarounds do |workaround_form| %&gt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>  #     &lt;%= workaround_form.nested_partial 'shared/workaround'  %&gt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>  #   &lt;%- end %&gt; </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>  #   &lt;!-- Render add new workaround button --&gt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>  #   &lt;%= form.add_nested_child :workarounds %&gt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>  #   &lt;!-- Render hidden workaround partial --&gt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>  #   &lt;%= form.new_child_fields_template(:workarounds, Workaround, :partial =&gt; 'shared/workaround' )%&gt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>  module NestedForms</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>    # @param [Symbol] association association name as defined in root document</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>    # @param [Class] association_class type of the associated entities </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>    # @param [Hash] options </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>    # @option options :object (association_class.new) object used to build nested partial </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>    # @option options :partial_name (association.to_s.singularize) nested partial to render</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>    # @return hidden child partial </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>    def new_child_fields_template(association, association_class, options = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>      options[:object] ||= association_class.new</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>      options[:partial] ||= association.to_s.singularize</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>      template.content_tag(:fieldset, :id =&gt; &quot;#{association}_fields_template&quot;, :style =&gt; &quot;display: none&quot;) do</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>        template.semantic_fields_for(association, options[:object], :index =&gt; &quot;new_#{association}&quot;) do |f|</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>          </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>          nested_partial(options[:partial], :form =&gt; f)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>    # Used in nested partial to render remove buton which removes nested entity</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>    # @param [Hash] options </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>    # @option options [String] :caption ('remove') Link text</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>    # @return renders remove link on a child entity</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>    def remove_nested_child(options = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>      options[:caption] ||= ::I18n.t('remove')</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>      hidden_field(:_delete) + template.link_to(options[:caption], &quot;javascript:void(0)&quot;, :class =&gt; &quot;remove_nested_child button&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>    # @param [Hash] options </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>    # @option options [String] :caption ('add') Link text</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>    # @return renders add new child entity link</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>    def add_nested_child(association, options = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>      options[:caption] ||= ::I18n.t('add')</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>      template.link_to(options[:caption], &quot;javascript:void(0)&quot;, :class =&gt; &quot;add_nested_child button&quot;, :&quot;data-association&quot; =&gt; association, :&quot;data-parent&quot; =&gt; object.class.to_s.underscore )</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="dbfa0b622821b42ebe379b0600cf0f845a7feb43">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/custom_form_builder/partials.rb</h3>
        <h4><span class="red">50.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module CustomFormBuilder</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  # Partial render helpers</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  module Partials</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>    # Calls @see ApplicationHelper#nested_partial</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    def nested_partial(name, locals_options = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>      locals_options[:form] ||= self</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>      template.nested_partial(name, locals_options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    # Calls @see ApplicationHelper#partial</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    def partial(name, locals_options = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>      locals_options[:form] ||= self</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>      template.partial(name, locals_options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="020f7fe20f7944c42e3f34ebeb8a578ab1a70668">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/custom_form_builder/select_controls.rb</h3>
        <h4><span class="red">15.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module CustomFormBuilder</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  ##</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  # All select (dropdown) controls goes here. </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  module SelectControls</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>    #defines basic select input</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>    # @param [Symbol, String] method - method name of current object</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>    # @param [Hash] options </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>    # @option options :label_method (:name)  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    # @option options :value_method (:id) </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    # @option options :collection (nil)</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    # @option options [Class] :model (nil) - type of the collection items</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>    # @option options :selected (nil) - selected value</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>    # @option options :include_blank (true) - True if blank item is rendered to allow select nothing.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>    def select_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>      options[:label_method] ||= :name</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>      options[:value_method] ||= :id </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>      select_default(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>      options[:collection] ||= []</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>      case get_rule(method).visibility</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>        when :enabled </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>          return super(method, options) </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>        when :disabled</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>          return disabled_field(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>    def currency_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>      input_name = generate_association_input_name(method)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>      values = &quot;&lt;option value=''&gt;&lt;/option&gt;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>      currency = Money::Currency::TABLE</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>      currency.each { |key, value|</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>        values += &quot;&lt;option value='#{value[:iso_code]}'&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>        values += &quot; selected='selected'&quot; if options[:selected] == value[:iso_code]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>        values += &quot; &gt;#{value[:iso_code]}&lt;/option&gt;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>      }</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>      self.label(method,options_for_label(options)) &lt;&lt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>      template.select_tag(&quot;#{@object_name}[#{input_name}]&quot;, template.raw(values))</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>    def approval_resolution_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>      input_name = generate_association_input_name(method)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>      values = &quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>      resolution = ApprovalResolution.all</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>      resolution.each { |value|</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>        values += &quot;&lt;option value='#{value.id}'&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>        values += &quot; selected='selected'&quot; if options[:selected] == value.id</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>        values += &quot; &gt;#{value.name}&lt;/option&gt;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>      }</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>      case get_rule(method).visibility</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>        when :enabled</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>          self.label(method,options_for_label(options)) &lt;&lt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>          template.select_tag(&quot;#{@object_name}[#{input_name}]&quot;, template.raw(values))</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>        when :disabled</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre>          self.label(method,options_for_label(options)) &lt;&lt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>          template.text_field_tag(method, I18n.translate(&quot;activemodel.attributes.approval_resolution.#{options[:selected]}&quot;), {:class =&gt; 'disabled'})</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre>    # Defines ticket_source select input</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>    # See CustomFormBuilder::SelectControls#select_input select_input for available options </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre>    # and source code for the defaults.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre>    # @see CustomFormBuilder::SelectControls#select_input </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre>    # @see TicketSource</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>65</pre>
      </td>
      <td>
        <pre>    def ticket_source_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>66</pre>
      </td>
      <td>
        <pre>      select_default(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>67</pre>
      </td>
      <td>
        <pre>      selected = TicketSource.all(:id =&gt; options[:selected]).first </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>68</pre>
      </td>
      <td>
        <pre>      options[:collection] ||= TicketSource.actives_or_self(selected).sort_by{ |ts| ts.sequence_id }</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>69</pre>
      </td>
      <td>
        <pre>      options[:model] ||= TicketSource</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>70</pre>
      </td>
      <td>
        <pre>      options[:include_blank] ||= false</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>71</pre>
      </td>
      <td>
        <pre>      select_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>72</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>73</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>74</pre>
      </td>
      <td>
        <pre>    # Defines configuration_item_status select input</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>75</pre>
      </td>
      <td>
        <pre>    # See CustomFormBuilder::SelectControls#select_input select_input for available options </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>76</pre>
      </td>
      <td>
        <pre>    # and source code for the defaults.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>77</pre>
      </td>
      <td>
        <pre>    # @see CustomFormBuilder::SelectControls#select_input </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>78</pre>
      </td>
      <td>
        <pre>    # @see ConfigurationItemStatus</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>79</pre>
      </td>
      <td>
        <pre>    def configuration_item_status_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>80</pre>
      </td>
      <td>
        <pre>      options[:collection] ||= ConfigurationItemStatus.all</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>81</pre>
      </td>
      <td>
        <pre>      options[:model] ||= ConfigurationItemStatus </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>82</pre>
      </td>
      <td>
        <pre>      options[:include_blank] ||= false</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>83</pre>
      </td>
      <td>
        <pre>      select_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>84</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>85</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>86</pre>
      </td>
      <td>
        <pre>    # Defines operator_group_input select input</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>87</pre>
      </td>
      <td>
        <pre>    # See CustomFormBuilder::SelectControls#select_input select_input for available options </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>88</pre>
      </td>
      <td>
        <pre>    # and source code for the defaults.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>89</pre>
      </td>
      <td>
        <pre>    # @see CustomFormBuilder::SelectControls#select_input </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>90</pre>
      </td>
      <td>
        <pre>    # @see ResolutionGroup</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>91</pre>
      </td>
      <td>
        <pre>    def operator_group_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>92</pre>
      </td>
      <td>
        <pre>      options[:collection] ||= @object.operator_groups</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>93</pre>
      </td>
      <td>
        <pre>      options[:model] ||= ResolutionGroup</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>94</pre>
      </td>
      <td>
        <pre>      selected = nil</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>95</pre>
      </td>
      <td>
        <pre>      if @object.operator_group</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>96</pre>
      </td>
      <td>
        <pre>        selected = @object.operator_group.id</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>97</pre>
      </td>
      <td>
        <pre>      elsif @object.default_operator_group</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>98</pre>
      </td>
      <td>
        <pre>        selected = @object.default_operator_group.id </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>99</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>100</pre>
      </td>
      <td>
        <pre>      options[:include_blank] ||= false</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>101</pre>
      </td>
      <td>
        <pre>      select_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>102</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>103</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>104</pre>
      </td>
      <td>
        <pre>    # Defines contact_type select input</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>105</pre>
      </td>
      <td>
        <pre>    # See CustomFormBuilder::SelectControls#select_input select_input for available options </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>106</pre>
      </td>
      <td>
        <pre>    # and source code for the defaults.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>107</pre>
      </td>
      <td>
        <pre>    # @see CustomFormBuilder::SelectControls#select_input </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>108</pre>
      </td>
      <td>
        <pre>    # @see ContactType</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>109</pre>
      </td>
      <td>
        <pre>    def contact_type_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>110</pre>
      </td>
      <td>
        <pre>      options[:model] ||= ContactType</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>111</pre>
      </td>
      <td>
        <pre>      select_default(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>112</pre>
      </td>
      <td>
        <pre>      selected = ContactType.all(:id =&gt; options[:selected]).first</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>113</pre>
      </td>
      <td>
        <pre>      options[:collection] ||= ContactType.actives_or_self(selected).sort_by{ |ts| ts.sequence_id }</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>114</pre>
      </td>
      <td>
        <pre>      select_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>115</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>116</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>117</pre>
      </td>
      <td>
        <pre>    # Defines message_type select input</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>118</pre>
      </td>
      <td>
        <pre>    # See CustomFormBuilder::SelectControls#select_input select_input for available options </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>119</pre>
      </td>
      <td>
        <pre>    # and source code for the defaults.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>120</pre>
      </td>
      <td>
        <pre>    # @see CustomFormBuilder::SelectControls#select_input </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>121</pre>
      </td>
      <td>
        <pre>    # @see ContactType</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>122</pre>
      </td>
      <td>
        <pre>    def message_type_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>123</pre>
      </td>
      <td>
        <pre>      options[:model] ||= MessageType</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>124</pre>
      </td>
      <td>
        <pre>      options[:collection] ||= MessageType.all</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>125</pre>
      </td>
      <td>
        <pre>      select_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>126</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>127</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>128</pre>
      </td>
      <td>
        <pre>    # Defines urgency select input</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>129</pre>
      </td>
      <td>
        <pre>    # See CustomFormBuilder::SelectControls#select_input select_input for available options </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>130</pre>
      </td>
      <td>
        <pre>    # and source code for the defaults.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>131</pre>
      </td>
      <td>
        <pre>    # @see CustomFormBuilder::SelectControls#select_input </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>132</pre>
      </td>
      <td>
        <pre>    # @see Urgency</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>133</pre>
      </td>
      <td>
        <pre>    def urgency_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>134</pre>
      </td>
      <td>
        <pre>      options[:model] ||= Urgency</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>135</pre>
      </td>
      <td>
        <pre>      select_default(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>136</pre>
      </td>
      <td>
        <pre>      selected = Urgency.all(:id =&gt; options[:selected]).first</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>137</pre>
      </td>
      <td>
        <pre>      options[:collection] ||= Urgency.actives_or_self(selected).sort_by{ |ts| ts.sequence_id }</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>138</pre>
      </td>
      <td>
        <pre>      select_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>139</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>140</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>141</pre>
      </td>
      <td>
        <pre>    # Defines sla select input</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>142</pre>
      </td>
      <td>
        <pre>    # See CustomFormBuilder::SelectControls#select_input select_input for available options </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>143</pre>
      </td>
      <td>
        <pre>    # and source code for the defaults.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>144</pre>
      </td>
      <td>
        <pre>    # @see CustomFormBuilder::SelectControls#select_input </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>145</pre>
      </td>
      <td>
        <pre>    # @see Sla</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>146</pre>
      </td>
      <td>
        <pre>    def sla_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>147</pre>
      </td>
      <td>
        <pre>      options[:model] ||= Sla</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>148</pre>
      </td>
      <td>
        <pre>      select_default(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>149</pre>
      </td>
      <td>
        <pre>      selected = Sla.all(:id =&gt; options[:selected]).first</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>150</pre>
      </td>
      <td>
        <pre>      options[:collection] ||= Sla.actives_or_self(selected)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>151</pre>
      </td>
      <td>
        <pre>      select_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>152</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>153</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>154</pre>
      </td>
      <td>
        <pre>    # Defines impact select input</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>155</pre>
      </td>
      <td>
        <pre>    # See CustomFormBuilder::SelectControls#select_input select_input for available options </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>156</pre>
      </td>
      <td>
        <pre>    # and source code for the defaults.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>157</pre>
      </td>
      <td>
        <pre>    # @see CustomFormBuilder::SelectControls#select_input </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>158</pre>
      </td>
      <td>
        <pre>    # @see Impact</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>159</pre>
      </td>
      <td>
        <pre>    def impact_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>160</pre>
      </td>
      <td>
        <pre>      options[:model] ||= Impact</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>161</pre>
      </td>
      <td>
        <pre>      select_default(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>162</pre>
      </td>
      <td>
        <pre>      selected = Impact.all(:id =&gt; options[:selected]).first</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>163</pre>
      </td>
      <td>
        <pre>      options[:collection] ||= Impact.actives_or_self(selected).sort_by{ |ts| ts.sequence_id }</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>164</pre>
      </td>
      <td>
        <pre>      select_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>165</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>166</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>167</pre>
      </td>
      <td>
        <pre>    # Defines service select input</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>168</pre>
      </td>
      <td>
        <pre>    # See CustomFormBuilder::SelectControls#select_input select_input for available options </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>169</pre>
      </td>
      <td>
        <pre>    # and source code for the defaults.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>170</pre>
      </td>
      <td>
        <pre>    # @see CustomFormBuilder::SelectControls#select_input </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>171</pre>
      </td>
      <td>
        <pre>    # @see Service</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>172</pre>
      </td>
      <td>
        <pre>    def service_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>173</pre>
      </td>
      <td>
        <pre>      options[:model] ||= Service</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>174</pre>
      </td>
      <td>
        <pre>      select_default(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>175</pre>
      </td>
      <td>
        <pre>      selected = Service.all(:id =&gt; options[:selected]).first</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>176</pre>
      </td>
      <td>
        <pre>      options[:collection] ||= Service.actives_or_self(selected)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>177</pre>
      </td>
      <td>
        <pre>      select_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>178</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>179</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>180</pre>
      </td>
      <td>
        <pre>    # Defines resolution_code select input</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>181</pre>
      </td>
      <td>
        <pre>    # See CustomFormBuilder::SelectControls#select_input select_input for available options </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>182</pre>
      </td>
      <td>
        <pre>    # and source code for the defaults.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>183</pre>
      </td>
      <td>
        <pre>    # @see CustomFormBuilder::SelectControls#select_input </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>184</pre>
      </td>
      <td>
        <pre>    # @see ResolutionCode</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>185</pre>
      </td>
      <td>
        <pre>    def resolution_code_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>186</pre>
      </td>
      <td>
        <pre>      options[:model] ||= ResolutionCode</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>187</pre>
      </td>
      <td>
        <pre>      options[:collection] ||= ResolutionCode.all</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>188</pre>
      </td>
      <td>
        <pre>      select_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>189</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>190</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>191</pre>
      </td>
      <td>
        <pre>    def problem_resolution_code_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>192</pre>
      </td>
      <td>
        <pre>      options[:model] ||= ProblemResolutionCode</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>193</pre>
      </td>
      <td>
        <pre>      select_default(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>194</pre>
      </td>
      <td>
        <pre>      selected = ProblemResolutionCode.all(:id =&gt; options[:selected]).first</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>195</pre>
      </td>
      <td>
        <pre>      options[:collection] ||= ProblemResolutionCode.actives_or_self(selected).sort_by{ |ts| ts.sequence_id }</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>196</pre>
      </td>
      <td>
        <pre>      select_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>197</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>198</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>199</pre>
      </td>
      <td>
        <pre>    def incident_resolution_code_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>200</pre>
      </td>
      <td>
        <pre>      options[:model] ||= IncidentResolutionCode</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>201</pre>
      </td>
      <td>
        <pre>      select_default(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>202</pre>
      </td>
      <td>
        <pre>      selected = IncidentResolutionCode.all(:id =&gt; options[:selected]).first</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>203</pre>
      </td>
      <td>
        <pre>      options[:collection] ||= IncidentResolutionCode.actives_or_self(selected).sort_by{ |ts| ts.sequence_id }</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>204</pre>
      </td>
      <td>
        <pre>      select_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>205</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>206</pre>
      </td>
      <td>
        <pre>    # Defines request_resolution_code select input</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>207</pre>
      </td>
      <td>
        <pre>    # See CustomFormBuilder::SelectControls#select_input select_input for available options </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>208</pre>
      </td>
      <td>
        <pre>    # and source code for the defaults.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>209</pre>
      </td>
      <td>
        <pre>    # @see CustomFormBuilder::SelectControls#select_input </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>210</pre>
      </td>
      <td>
        <pre>    # @see RequestResolutionCode</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>211</pre>
      </td>
      <td>
        <pre>    def request_resolution_code_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>212</pre>
      </td>
      <td>
        <pre>      options[:model] ||= RequestResolutionCode</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>213</pre>
      </td>
      <td>
        <pre>      select_default(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>214</pre>
      </td>
      <td>
        <pre>      selected = RequestResolutionCode.all(:id =&gt; options[:selected]).first</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>215</pre>
      </td>
      <td>
        <pre>      options[:collection] ||= RequestResolutionCode.actives_or_self(selected).sort_by{ |ts| ts.sequence_id }</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>216</pre>
      </td>
      <td>
        <pre>      select_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>217</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>218</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>219</pre>
      </td>
      <td>
        <pre>    # Defines sla_breaching_code select input</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>220</pre>
      </td>
      <td>
        <pre>    # See CustomFormBuilder::SelectControls#select_input select_input for available options </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>221</pre>
      </td>
      <td>
        <pre>    # and source code for the defaults.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>222</pre>
      </td>
      <td>
        <pre>    # @see CustomFormBuilder::SelectControls#select_input </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>223</pre>
      </td>
      <td>
        <pre>    # @see SlaBreachingCode</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>224</pre>
      </td>
      <td>
        <pre>    def sla_breaching_code_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>225</pre>
      </td>
      <td>
        <pre>      options[:model] ||= SlaBreachingCode</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>226</pre>
      </td>
      <td>
        <pre>      select_default(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>227</pre>
      </td>
      <td>
        <pre>      selected = SlaBreachingCode.all(:id =&gt; options[:selected]).first</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>228</pre>
      </td>
      <td>
        <pre>      options[:collection] ||= SlaBreachingCode.actives_or_self(selected).sort_by{ |ts| ts.sequence_id }</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>229</pre>
      </td>
      <td>
        <pre>      select_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>230</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>231</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>232</pre>
      </td>
      <td>
        <pre>    # Defines resolution_group select input</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>233</pre>
      </td>
      <td>
        <pre>    # See CustomFormBuilder::SelectControls#select_input select_input for available options </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>234</pre>
      </td>
      <td>
        <pre>    # and source code for the defaults.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>235</pre>
      </td>
      <td>
        <pre>    # @see CustomFormBuilder::SelectControls#select_input </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>236</pre>
      </td>
      <td>
        <pre>    # @see ResolutionGroup</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>237</pre>
      </td>
      <td>
        <pre>    def resolution_group_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>238</pre>
      </td>
      <td>
        <pre>      options[:model] ||= ResolutionGroup</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>239</pre>
      </td>
      <td>
        <pre>      options[:collection] ||= ResolutionGroup.all</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>240</pre>
      </td>
      <td>
        <pre>      options[:label_method] ||= :display_name</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>241</pre>
      </td>
      <td>
        <pre>      select_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>242</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>243</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>244</pre>
      </td>
      <td>
        <pre>    # Defines time_zone select input</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>245</pre>
      </td>
      <td>
        <pre>    # See CustomFormBuilder::SelectControls#select_input select_input for available options </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>246</pre>
      </td>
      <td>
        <pre>    # and source code for the defaults.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>247</pre>
      </td>
      <td>
        <pre>    # @see CustomFormBuilder::SelectControls#select_input </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>248</pre>
      </td>
      <td>
        <pre>    # @see ActiveSupport::TimeZone</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>249</pre>
      </td>
      <td>
        <pre>    def time_zone_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>250</pre>
      </td>
      <td>
        <pre>      options[:collection] ||= ActiveSupport::TimeZone.all</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>251</pre>
      </td>
      <td>
        <pre>      options[:label_method] ||= :to_s</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>252</pre>
      </td>
      <td>
        <pre>      options[:value_method] ||= :name</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>253</pre>
      </td>
      <td>
        <pre>      select_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>254</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>255</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>256</pre>
      </td>
      <td>
        <pre>    # Defines calendar select input</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>257</pre>
      </td>
      <td>
        <pre>    # See CustomFormBuilder::SelectControls#select_input select_input for available options </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>258</pre>
      </td>
      <td>
        <pre>    # and source code for the defaults.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>259</pre>
      </td>
      <td>
        <pre>    # @see CustomFormBuilder::SelectControls#select_input </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>260</pre>
      </td>
      <td>
        <pre>    # @see Calendar</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>261</pre>
      </td>
      <td>
        <pre>    def calendar_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>262</pre>
      </td>
      <td>
        <pre>      options[:model] ||= Calendar</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>263</pre>
      </td>
      <td>
        <pre>      select_default(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>264</pre>
      </td>
      <td>
        <pre>      selected = Calendar.all(:id =&gt; options[:selected]).first</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>265</pre>
      </td>
      <td>
        <pre>      options[:collection] ||= Calendar.actives_or_self(selected)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>266</pre>
      </td>
      <td>
        <pre>      select_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>267</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>268</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>269</pre>
      </td>
      <td>
        <pre>    # Defines Language select input</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>270</pre>
      </td>
      <td>
        <pre>    # See CustomFormBuilder::SelectControls#select_input select_input for available options </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>271</pre>
      </td>
      <td>
        <pre>    # and source code for the defaults.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>272</pre>
      </td>
      <td>
        <pre>    # @see CustomFormBuilder::SelectControls#select_input </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>273</pre>
      </td>
      <td>
        <pre>    # @see Language</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>274</pre>
      </td>
      <td>
        <pre>    def language_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>275</pre>
      </td>
      <td>
        <pre>      options[:model] ||= Language</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>276</pre>
      </td>
      <td>
        <pre>      options[:collection] ||= Language.all</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>277</pre>
      </td>
      <td>
        <pre>      options[:value_method] ||= :code</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>278</pre>
      </td>
      <td>
        <pre>      select_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>279</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>280</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>281</pre>
      </td>
      <td>
        <pre>    # Defines Network connection type select input</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>282</pre>
      </td>
      <td>
        <pre>    # See CustomFormBuilder::SelectControls#select_input select_input for available options </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>283</pre>
      </td>
      <td>
        <pre>    # and source code for the defaults.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>284</pre>
      </td>
      <td>
        <pre>    # @see CustomFormBuilder::SelectControls#select_input </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>285</pre>
      </td>
      <td>
        <pre>    # @see NetworkConnectionType</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>286</pre>
      </td>
      <td>
        <pre>    def network_connection_type_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>287</pre>
      </td>
      <td>
        <pre>      options[:model] ||= NetworkConnectionType</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>288</pre>
      </td>
      <td>
        <pre>      options[:collection] ||= NetworkConnectionType.all</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>289</pre>
      </td>
      <td>
        <pre>      options[:value_method] ||= :code</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>290</pre>
      </td>
      <td>
        <pre>      select_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>291</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>292</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>293</pre>
      </td>
      <td>
        <pre>    # Defines CSV Import type select input</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>294</pre>
      </td>
      <td>
        <pre>    # See CustomFormBuilder::SelectControls#select_input select_input for available options </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>295</pre>
      </td>
      <td>
        <pre>    # and source code for the defaults.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>296</pre>
      </td>
      <td>
        <pre>    # @see CustomFormBuilder::SelectControls#select_input </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>297</pre>
      </td>
      <td>
        <pre>    # @see Import::CsvImportType</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>298</pre>
      </td>
      <td>
        <pre>    def csv_import_type_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>299</pre>
      </td>
      <td>
        <pre>      options[:model] ||= Import::CsvImportType</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>300</pre>
      </td>
      <td>
        <pre>      options[:collection] ||= Import::CsvImportType.all</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>301</pre>
      </td>
      <td>
        <pre>      options[:value_method] ||= :code</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>302</pre>
      </td>
      <td>
        <pre>      select_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>303</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>304</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>305</pre>
      </td>
      <td>
        <pre>    # Defines Worklog type select input</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>306</pre>
      </td>
      <td>
        <pre>    # See CustomFormBuilder::SelectControls#select_input select_input for available options </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>307</pre>
      </td>
      <td>
        <pre>    # and source code for the defaults.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>308</pre>
      </td>
      <td>
        <pre>    # The @object variable must be set to a ticket instance</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>309</pre>
      </td>
      <td>
        <pre>    # @see CustomFormBuilder::SelectControls#select_input </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>310</pre>
      </td>
      <td>
        <pre>    # @see Import::WorklogType</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>311</pre>
      </td>
      <td>
        <pre>    def worklog_type_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>312</pre>
      </td>
      <td>
        <pre>      input_name = generate_association_input_name(method)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>313</pre>
      </td>
      <td>
        <pre>      default_text = template.t('activemodel.attributes.worklog_type.select_caption')</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>314</pre>
      </td>
      <td>
        <pre>      values = &quot;&lt;option value=''&gt;#{default_text}&lt;/option&gt;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>315</pre>
      </td>
      <td>
        <pre>      w = WorklogType.all(:ticket_type=&gt;@object.class.to_s)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>316</pre>
      </td>
      <td>
        <pre>      w.each { |item|</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>317</pre>
      </td>
      <td>
        <pre>        values += &quot;&lt;option value='#{item.id}'&gt;#{item.name}&lt;/option&gt;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>318</pre>
      </td>
      <td>
        <pre>      }</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>319</pre>
      </td>
      <td>
        <pre>      template.select_tag(&quot;#{@object_name}[#{input_name}]&quot;, template.raw(values), options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>320</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>321</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>322</pre>
      </td>
      <td>
        <pre>    def priority_select_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>323</pre>
      </td>
      <td>
        <pre>      values = &quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>324</pre>
      </td>
      <td>
        <pre>      num = 1</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>325</pre>
      </td>
      <td>
        <pre>      while num &lt;= Priority.priorities</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>326</pre>
      </td>
      <td>
        <pre>        values += &quot;&lt;option value='#{num}' &gt;#{num}&lt;/option&gt;&quot; if num != options[:current]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>327</pre>
      </td>
      <td>
        <pre>        num += 1</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>328</pre>
      </td>
      <td>
        <pre>      end      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>329</pre>
      </td>
      <td>
        <pre>      self.label(method,options_for_label(options)) &lt;&lt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>330</pre>
      </td>
      <td>
        <pre>      template.select_tag(&quot;priority_select&quot;, template.raw(values))</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>331</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>332</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>333</pre>
      </td>
      <td>
        <pre>    def priority_select_change_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>334</pre>
      </td>
      <td>
        <pre>      options[:class] ||= &quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>335</pre>
      </td>
      <td>
        <pre>      options[:class] += &quot; summary &quot; if options.include?(:summary)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>336</pre>
      </td>
      <td>
        <pre>      if(options.include?(:summary_length))</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>337</pre>
      </td>
      <td>
        <pre>        options[&quot;data-summary_length&quot;] = options[:summary_length]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>338</pre>
      </td>
      <td>
        <pre>      else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>339</pre>
      </td>
      <td>
        <pre>        options[&quot;data-summary_length&quot;] = &quot;20&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>340</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>341</pre>
      </td>
      <td>
        <pre>      case get_rule(method).visibility</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>342</pre>
      </td>
      <td>
        <pre>        when :enabled</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>343</pre>
      </td>
      <td>
        <pre>          values = &quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>344</pre>
      </td>
      <td>
        <pre>          num = 1</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>345</pre>
      </td>
      <td>
        <pre>          while num &lt;= Priority.priorities</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>346</pre>
      </td>
      <td>
        <pre>            if num != options[:current]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>347</pre>
      </td>
      <td>
        <pre>              values += &quot;&lt;option value='#{num}' &gt;#{num}&lt;/option&gt;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>348</pre>
      </td>
      <td>
        <pre>            else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>349</pre>
      </td>
      <td>
        <pre>              values += &quot;&lt;option value='#{num}' selected='selected' class='current' &gt;#{num}&lt;/option&gt;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>350</pre>
      </td>
      <td>
        <pre>            end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>351</pre>
      </td>
      <td>
        <pre>            num += 1</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>352</pre>
      </td>
      <td>
        <pre>          end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>353</pre>
      </td>
      <td>
        <pre>          self.label(method,options_for_label(options)) &lt;&lt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>354</pre>
      </td>
      <td>
        <pre>          template.select_tag(&quot;priority_change_select&quot;, template.raw(values), options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>355</pre>
      </td>
      <td>
        <pre>        when :disabled</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>356</pre>
      </td>
      <td>
        <pre>          return disabled_field(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>357</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>358</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>359</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>360</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>361</pre>
      </td>
      <td>
        <pre>    def kb_area_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>362</pre>
      </td>
      <td>
        <pre>      input_name = generate_association_input_name(method)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>363</pre>
      </td>
      <td>
        <pre>      selected_p = &quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>364</pre>
      </td>
      <td>
        <pre>      selected_i = &quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>365</pre>
      </td>
      <td>
        <pre>      if options[:selected] == &quot;#{template.t('activemodel.attributes.kb.internal')}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>366</pre>
      </td>
      <td>
        <pre>        selected_i = &quot;selected='selected'&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>367</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>368</pre>
      </td>
      <td>
        <pre>      if options[:selected] == &quot;#{template.t('activemodel.attributes.kb.public')}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>369</pre>
      </td>
      <td>
        <pre>        selected_p = &quot;selected='selected'&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>370</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>371</pre>
      </td>
      <td>
        <pre>      values = &quot;&lt;option #{selected_p} value='#{template.t('activemodel.attributes.kb.public')}'&gt;#{template.t('activemodel.attributes.kb.public')}&lt;/option&gt;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>372</pre>
      </td>
      <td>
        <pre>      values += &quot;&lt;option #{selected_i} value='#{template.t('activemodel.attributes.kb.internal')}'&gt;#{template.t('activemodel.attributes.kb.internal')}&lt;/option&gt;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>373</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>374</pre>
      </td>
      <td>
        <pre>      self.label(method, options_for_label(options)) &lt;&lt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>375</pre>
      </td>
      <td>
        <pre>      template.select_tag(&quot;#{@object_name}[#{input_name}]&quot;,template.raw(values))</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>376</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>377</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>378</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>379</pre>
      </td>
      <td>
        <pre>    def period_select_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>380</pre>
      </td>
      <td>
        <pre>      options[:label_method] ||= :name</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>381</pre>
      </td>
      <td>
        <pre>      options[:value_method] ||= :id</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>382</pre>
      </td>
      <td>
        <pre>      select_default(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>383</pre>
      </td>
      <td>
        <pre>      options[:collection] ||= []</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>384</pre>
      </td>
      <td>
        <pre>      case get_rule(method).visibility</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>385</pre>
      </td>
      <td>
        <pre>        when :enabled</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>386</pre>
      </td>
      <td>
        <pre>          return select_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>387</pre>
      </td>
      <td>
        <pre>        when :disabled</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>388</pre>
      </td>
      <td>
        <pre>          return period_disabled_field(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>389</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>390</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>391</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>392</pre>
      </td>
      <td>
        <pre>    def period_disabled_field(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>393</pre>
      </td>
      <td>
        <pre>      self.label(method, options_for_label(options)) &lt;&lt; period_disabled_content(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>394</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>395</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>396</pre>
      </td>
      <td>
        <pre>    def period_disabled_content(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>397</pre>
      </td>
      <td>
        <pre>      options[:input_html] ||= {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>398</pre>
      </td>
      <td>
        <pre>      options[:input_html][:class] ||= &quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>399</pre>
      </td>
      <td>
        <pre>      options[:input_html][:class] += &quot; #{options[:class]} #{method} disabled&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>400</pre>
      </td>
      <td>
        <pre>      value = &quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>401</pre>
      </td>
      <td>
        <pre>      if options[:input_html][:value].present?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>402</pre>
      </td>
      <td>
        <pre>        value = options[:input_html][:value]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>403</pre>
      </td>
      <td>
        <pre>      else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>404</pre>
      </td>
      <td>
        <pre>        value = object.send(method).id unless object.send(method).nil?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>405</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>406</pre>
      </td>
      <td>
        <pre>        if value.to_s != &quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>407</pre>
      </td>
      <td>
        <pre>          value = template.t(&quot;activemodel.attributes.periods.#{value.to_s}&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>408</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>409</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>410</pre>
      </td>
      <td>
        <pre>      options[:input_html][:value]=&quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>411</pre>
      </td>
      <td>
        <pre>      template.content_tag :span, value, options[:input_html]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>412</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>413</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>414</pre>
      </td>
      <td>
        <pre>    def boolean_select_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>415</pre>
      </td>
      <td>
        <pre>      input_name = generate_association_input_name(method)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>416</pre>
      </td>
      <td>
        <pre>      selected = object.send(method)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>417</pre>
      </td>
      <td>
        <pre>      values = &quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>418</pre>
      </td>
      <td>
        <pre>      bools = { -1 =&gt; ::I18n.t(:bool_unknown), 1 =&gt; ::I18n.t(:bool_yes), 0 =&gt; ::I18n.t(:bool_no) }</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>419</pre>
      </td>
      <td>
        <pre>      bools.each { |key, value|</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>420</pre>
      </td>
      <td>
        <pre>        values += &quot;&lt;option value='#{key}'&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>421</pre>
      </td>
      <td>
        <pre>        values += &quot; selected='selected'&quot; if selected == key</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>422</pre>
      </td>
      <td>
        <pre>        values += &quot; &gt;#{value}&lt;/option&gt;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>423</pre>
      </td>
      <td>
        <pre>      }</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>424</pre>
      </td>
      <td>
        <pre>      self.label(method,options_for_label(options)) &lt;&lt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>425</pre>
      </td>
      <td>
        <pre>      template.select_tag(&quot;#{@object_name}[#{input_name}]&quot;, template.raw(values))</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>426</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>427</pre>
      </td>
      <td>
        <pre>   </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>428</pre>
      </td>
      <td>
        <pre>    def ticket_status_select_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>429</pre>
      </td>
      <td>
        <pre>      input_name = generate_association_input_name(method)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>430</pre>
      </td>
      <td>
        <pre>      selected = object.send(method)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>431</pre>
      </td>
      <td>
        <pre>      klass = Class.const_get( options[:class] )</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>432</pre>
      </td>
      <td>
        <pre>      values = &quot;&lt;option value=''&gt;#{::I18n.t(:all)}&lt;/option&gt;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>433</pre>
      </td>
      <td>
        <pre>      klass.state_machine.states.each do |s|</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>434</pre>
      </td>
      <td>
        <pre>        values += &quot;&lt;option value='#{s.name}'&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>435</pre>
      </td>
      <td>
        <pre>        values += &quot; selected='selected'&quot; if selected == s.name</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>436</pre>
      </td>
      <td>
        <pre>        values += &quot; &gt;#{::I18n.t(s.name)}&lt;/option&gt;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>437</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>438</pre>
      </td>
      <td>
        <pre>      self.label(method,options_for_label(options)) &lt;&lt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>439</pre>
      </td>
      <td>
        <pre>      template.select_tag(&quot;#{@object_name}[#{input_name}]&quot;, template.raw(values))</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>440</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>441</pre>
      </td>
      <td>
        <pre> </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>442</pre>
      </td>
      <td>
        <pre>    private </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>443</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>444</pre>
      </td>
      <td>
        <pre>    def select_default(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>445</pre>
      </td>
      <td>
        <pre>      options[:label_method] ||= :name</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>446</pre>
      </td>
      <td>
        <pre>      options[:value_method] ||= :id</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>447</pre>
      </td>
      <td>
        <pre>      return if options.include?(:selected)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>448</pre>
      </td>
      <td>
        <pre>      value_method = options[:value_method]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>449</pre>
      </td>
      <td>
        <pre>      if @object.respond_to?(method)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>450</pre>
      </td>
      <td>
        <pre>        value = @object.send(method)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>451</pre>
      </td>
      <td>
        <pre>        options[:selected] = value</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>452</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>453</pre>
      </td>
      <td>
        <pre>      method_wo_id = method.to_s.sub(/_id$/, '').to_sym</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>454</pre>
      </td>
      <td>
        <pre>      if @object.respond_to?(method_wo_id)         </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>455</pre>
      </td>
      <td>
        <pre>        options[:selected] = @object.send(method_wo_id).try(value_method)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>456</pre>
      </td>
      <td>
        <pre>      end </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>457</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>458</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>459</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>460</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="0c318e3f23690a50892e39561edf628673087806">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/custom_form_builder/simple_controls.rb</h3>
        <h4><span class="red">15.72 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module CustomFormBuilder</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  ##</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  # All simple input controls goes here. </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  module SimpleControls</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>    def input(method, options = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>      return &quot;&quot; if control_hidden?(method)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>      summary_options(options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>      # Silence Formtastic :selected deprecation warning </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>      ActiveSupport::Deprecation.silence do</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>        super(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>    def location_name_input(method,options = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>      summary_options(options)      </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>      self.label(method,options_for_label(options)) &lt;&lt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>      self.text_field(method,options.merge(:class=&gt;&quot;location_name&quot;))</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>    def phone_input(method, options = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>      return &quot;&quot; if control_hidden?(method)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>      summary_options(options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>      summary = options[:input_html][:class]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>      summary_length = options[:input_html][&quot;data-summary_length&quot;]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>      options[:input_html] = {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>      if control_disabled?(method)</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>        disabled_field(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>      else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>        self.label(method, options_for_label(options)) &lt;&lt; self.text_field(method, options.merge(:class=&gt;summary,&quot;data-summary_length&quot;=&gt;summary_length))</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>      end &lt;&lt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>      template.tag(&quot;img&quot;,{:src=&gt;&quot;/images/skype_call.png&quot;, :alt=&gt;&quot;skype&quot;, :class=&gt;&quot;skype_call&quot;})</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>    def back_button(options = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>      options = {</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>        :type=&gt; :button, </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>        :class=&gt;:back_button,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>        :value=&gt; ::I18n.t(:back)</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>      }.merge(options) </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>      button(options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>    def alternative_back_button(is_new, options = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>      if (is_new)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>        options = {</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>          :type=&gt; :button,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>          :class=&gt;:alter_back_button,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>          :value=&gt; ::I18n.t(:back)</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>        }.merge(options)</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>        button(options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>      else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre>        back_button(options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre>    def save_button(options = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre>      options = {</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>        :type=&gt; :button, </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre>        :class=&gt;:state_buttonizer, </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre>        :value=&gt; ::I18n.t(:save) </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre>      }.merge(options) </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>65</pre>
      </td>
      <td>
        <pre>      button(options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>66</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>67</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>68</pre>
      </td>
      <td>
        <pre>    def action_button(options = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>69</pre>
      </td>
      <td>
        <pre>      options['data-action'] = options[:name]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>70</pre>
      </td>
      <td>
        <pre>      options[:value] ||= ::I18n.t(&quot;activemodel.state_events.#{options[:name]}&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>71</pre>
      </td>
      <td>
        <pre>      options[:class] = &quot;action&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>72</pre>
      </td>
      <td>
        <pre>      button(options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>73</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>74</pre>
      </td>
      <td>
        <pre> </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>75</pre>
      </td>
      <td>
        <pre>    def button(options = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>76</pre>
      </td>
      <td>
        <pre>      options[:type] ||= :button</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>77</pre>
      </td>
      <td>
        <pre>      options[:name] ||= :save</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>78</pre>
      </td>
      <td>
        <pre>      options[:class] = &quot;#{options[:class]} button #{options[:name]}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>79</pre>
      </td>
      <td>
        <pre>      options[:value] ||= ::I18n.t(options[:name]) </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>80</pre>
      </td>
      <td>
        <pre>      control_id = &quot;#{options[:name]}_button&quot;.to_sym</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>81</pre>
      </td>
      <td>
        <pre>      options.delete(:name)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>82</pre>
      </td>
      <td>
        <pre>      if control_enabled?(control_id)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>83</pre>
      </td>
      <td>
        <pre>        return template.tag(:input, options) </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>84</pre>
      </td>
      <td>
        <pre>      else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>85</pre>
      </td>
      <td>
        <pre>        return &quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>86</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>87</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>88</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>89</pre>
      </td>
      <td>
        <pre>    def group_watch_buttons(current_user, options = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>90</pre>
      </td>
      <td>
        <pre>      result = &quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>91</pre>
      </td>
      <td>
        <pre>      return &quot;&quot; if current_user.person.nil?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>92</pre>
      </td>
      <td>
        <pre>      current_user.person.manager_resolution_groups.each {|g|</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>93</pre>
      </td>
      <td>
        <pre>        options['data-gid'] = g.id</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>94</pre>
      </td>
      <td>
        <pre>        is_watched = WatchItem.group_list_contains_ticket(g, object)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>95</pre>
      </td>
      <td>
        <pre>        result = render_watch_buttons(options, is_watched, object.id)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>96</pre>
      </td>
      <td>
        <pre>      }</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>97</pre>
      </td>
      <td>
        <pre>      template.raw(result)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>98</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>99</pre>
      </td>
      <td>
        <pre> </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>100</pre>
      </td>
      <td>
        <pre>    def user_watch_buttons(current_user, options = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>101</pre>
      </td>
      <td>
        <pre>      is_watched = WatchItem.user_list_contains_ticket(current_user, object)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>102</pre>
      </td>
      <td>
        <pre>      template.raw(render_watch_buttons(options, is_watched, object.id))</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>103</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>104</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>105</pre>
      </td>
      <td>
        <pre>    def render_watch_buttons(options, is_watched, ticket_id)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>106</pre>
      </td>
      <td>
        <pre>      result = &quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>107</pre>
      </td>
      <td>
        <pre>      options[:class] = &quot;wi_button button&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>108</pre>
      </td>
      <td>
        <pre>      options[:show_watch] = true unless options.include?(:show_watch)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>109</pre>
      </td>
      <td>
        <pre>      options['style'] = &quot;display: none&quot; if is_watched</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>110</pre>
      </td>
      <td>
        <pre>      options['data-ticket'] = ticket_id</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>111</pre>
      </td>
      <td>
        <pre>      options['data-action'] = &quot;watch&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>112</pre>
      </td>
      <td>
        <pre>      result += template.content_tag(:span, options['data-action'].capitalize, options) if options[:show_watch]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>113</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>114</pre>
      </td>
      <td>
        <pre>      if is_watched</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>115</pre>
      </td>
      <td>
        <pre>        options['style'] = &quot;display: inline-block&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>116</pre>
      </td>
      <td>
        <pre>      else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>117</pre>
      </td>
      <td>
        <pre>        options['style'] = &quot;display: none&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>118</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>119</pre>
      </td>
      <td>
        <pre>      options['data-action'] = &quot;unwatch&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>120</pre>
      </td>
      <td>
        <pre>      result += template.content_tag(:span, options['data-action'].capitalize, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>121</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>122</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>123</pre>
      </td>
      <td>
        <pre>    # Renders form tag. Used if form should wrap areas outside partial, where form is declared. </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>124</pre>
      </td>
      <td>
        <pre>    # Example:</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>125</pre>
      </td>
      <td>
        <pre>    # &lt;% semantic_fields_for @call do |form| %&gt; </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>126</pre>
      </td>
      <td>
        <pre>    #   &lt;%= form.form_tag %&gt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>127</pre>
      </td>
      <td>
        <pre>    # &lt;% end %&gt; </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>128</pre>
      </td>
      <td>
        <pre>    # form.form_tag injects form start element (&lt;form ...&gt;) into :begin_form placeholder in the layout file </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>129</pre>
      </td>
      <td>
        <pre>    # and form end element (&lt;/form&gt;) into :end_form placeholder</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>130</pre>
      </td>
      <td>
        <pre>    def form_tag( *args)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>131</pre>
      </td>
      <td>
        <pre>      options = args.extract_options!</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>132</pre>
      </td>
      <td>
        <pre>      record_or_name_or_array = self.object</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>133</pre>
      </td>
      <td>
        <pre>      case record_or_name_or_array</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>134</pre>
      </td>
      <td>
        <pre>      when String, Symbol</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>135</pre>
      </td>
      <td>
        <pre>        object_name = record_or_name_or_array</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>136</pre>
      </td>
      <td>
        <pre>      when Array</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>137</pre>
      </td>
      <td>
        <pre>        object = record_or_name_or_array.last</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>138</pre>
      </td>
      <td>
        <pre>        object_name = ActionController::RecordIdentifier.singular_class_name(object)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>139</pre>
      </td>
      <td>
        <pre>        template.apply_form_for_options!(record_or_name_or_array, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>140</pre>
      </td>
      <td>
        <pre>        args.unshift object</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>141</pre>
      </td>
      <td>
        <pre>      else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>142</pre>
      </td>
      <td>
        <pre>        object = record_or_name_or_array</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>143</pre>
      </td>
      <td>
        <pre>        object_name = ActionController::RecordIdentifier.singular_class_name(object)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>144</pre>
      </td>
      <td>
        <pre>        template.apply_form_for_options!([object], options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>145</pre>
      </td>
      <td>
        <pre>        args.unshift object</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>146</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>147</pre>
      </td>
      <td>
        <pre>      begin_form = template.form_tag(options.delete(:url) || {}, options.delete(:html) || {})</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>148</pre>
      </td>
      <td>
        <pre>      template.content_for(:begin_form) { begin_form  }</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>149</pre>
      </td>
      <td>
        <pre>      template.content_for( :end_form) { template.raw('&lt;/form&gt;') }</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>150</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>151</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>152</pre>
      </td>
      <td>
        <pre>    def string_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>153</pre>
      </td>
      <td>
        <pre>      case get_rule(method).visibility</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>154</pre>
      </td>
      <td>
        <pre>      when :enabled </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>155</pre>
      </td>
      <td>
        <pre>        return super(method, options) </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>156</pre>
      </td>
      <td>
        <pre>      when :disabled </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>157</pre>
      </td>
      <td>
        <pre>        return disabled_field(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>158</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>159</pre>
      </td>
      <td>
        <pre>    end </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>160</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>161</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>162</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>163</pre>
      </td>
      <td>
        <pre>    def text_input(method, options) </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>164</pre>
      </td>
      <td>
        <pre>      case get_rule(method).visibility</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>165</pre>
      </td>
      <td>
        <pre>      when :enabled </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>166</pre>
      </td>
      <td>
        <pre>        return super(method, options) </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>167</pre>
      </td>
      <td>
        <pre>      when :disabled </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>168</pre>
      </td>
      <td>
        <pre>        options[:input_html] ||= {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>169</pre>
      </td>
      <td>
        <pre>        options[:input_html][:value] = template.simple_format(object.send(method)) </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>170</pre>
      </td>
      <td>
        <pre>        return disabled_field(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>171</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>172</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>173</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>174</pre>
      </td>
      <td>
        <pre>    def minutes_input(method, options = {}) </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>175</pre>
      </td>
      <td>
        <pre>      options[:input_html] ||= {:class =&gt; :minutes }</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>176</pre>
      </td>
      <td>
        <pre>      case get_rule(method).visibility</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>177</pre>
      </td>
      <td>
        <pre>      when :enabled </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>178</pre>
      </td>
      <td>
        <pre>        return string_input(method, options) </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>179</pre>
      </td>
      <td>
        <pre>      when :disabled </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>180</pre>
      </td>
      <td>
        <pre>        return disabled_field(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>181</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>182</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>183</pre>
      </td>
      <td>
        <pre>    def hours_input(method, options = {}) </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>184</pre>
      </td>
      <td>
        <pre>      options[:input_html] ||= {:class =&gt; :hours }</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>185</pre>
      </td>
      <td>
        <pre>      case get_rule(method).visibility</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>186</pre>
      </td>
      <td>
        <pre>      when :enabled </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>187</pre>
      </td>
      <td>
        <pre>        return string_input(method, options) </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>188</pre>
      </td>
      <td>
        <pre>      when :disabled </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>189</pre>
      </td>
      <td>
        <pre>        return disabled_field(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>190</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>191</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>192</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>193</pre>
      </td>
      <td>
        <pre>    # Generates time input to write more than 24 hours period</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>194</pre>
      </td>
      <td>
        <pre>    def absolute_time_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>195</pre>
      </td>
      <td>
        <pre>      case get_rule(method).visibility</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>196</pre>
      </td>
      <td>
        <pre>      when :enabled</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>197</pre>
      </td>
      <td>
        <pre>        return absolute_time_enabled(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>198</pre>
      </td>
      <td>
        <pre>      when :disabled</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>199</pre>
      </td>
      <td>
        <pre>        return disabled_field(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>200</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>201</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>202</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>203</pre>
      </td>
      <td>
        <pre>    def absolute_time_enabled(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>204</pre>
      </td>
      <td>
        <pre>      value = ActionView::Helpers::InstanceTag.value(object, method)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>205</pre>
      </td>
      <td>
        <pre>      if value.nil?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>206</pre>
      </td>
      <td>
        <pre>        time_value = &quot;00:05&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>207</pre>
      </td>
      <td>
        <pre>      elsif value.class == String</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>208</pre>
      </td>
      <td>
        <pre>        time_value = value</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>209</pre>
      </td>
      <td>
        <pre>      else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>210</pre>
      </td>
      <td>
        <pre>        time_value = &quot;#{(value/60).floor}:#{value.modulo(60)}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>211</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>212</pre>
      </td>
      <td>
        <pre>      time_field_options = options.merge(:value =&gt; time_value, :class =&gt; 'absolute_time watermark')</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>213</pre>
      </td>
      <td>
        <pre>      self.label(method, options_for_label(options)) &lt;&lt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>214</pre>
      </td>
      <td>
        <pre>      self.text_field(method, time_field_options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>215</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>216</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>217</pre>
      </td>
      <td>
        <pre>    # Generates datetime picker control </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>218</pre>
      </td>
      <td>
        <pre>    def datetime_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>219</pre>
      </td>
      <td>
        <pre>      case get_rule(method).visibility</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>220</pre>
      </td>
      <td>
        <pre>      when :enabled </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>221</pre>
      </td>
      <td>
        <pre>        return datetime_enabled(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>222</pre>
      </td>
      <td>
        <pre>      when :disabled </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>223</pre>
      </td>
      <td>
        <pre>        return disabled_field(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>224</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>225</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>226</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>227</pre>
      </td>
      <td>
        <pre>    def basic_time_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>228</pre>
      </td>
      <td>
        <pre>      case get_rule(method).visibility</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>229</pre>
      </td>
      <td>
        <pre>      when :enabled </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>230</pre>
      </td>
      <td>
        <pre>        return time_enabled(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>231</pre>
      </td>
      <td>
        <pre>      when :disabled </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>232</pre>
      </td>
      <td>
        <pre>        return disabled_field(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>233</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>234</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>235</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>236</pre>
      </td>
      <td>
        <pre>    def basic_date_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>237</pre>
      </td>
      <td>
        <pre>      case get_rule(method).visibility</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>238</pre>
      </td>
      <td>
        <pre>      when :enabled </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>239</pre>
      </td>
      <td>
        <pre>        return date_enabled(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>240</pre>
      </td>
      <td>
        <pre>      when :disabled </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>241</pre>
      </td>
      <td>
        <pre>        return disabled_field(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>242</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>243</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>244</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>245</pre>
      </td>
      <td>
        <pre>    def boolean_text_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>246</pre>
      </td>
      <td>
        <pre>      value = object.send(method)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>247</pre>
      </td>
      <td>
        <pre>      if (value)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>248</pre>
      </td>
      <td>
        <pre>        options[:input_html][:value]= ::I18n.t(:bool_yes)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>249</pre>
      </td>
      <td>
        <pre>      else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>250</pre>
      </td>
      <td>
        <pre>        options[:input_html][:value]= ::I18n.t(:bool_no)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>251</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>252</pre>
      </td>
      <td>
        <pre>      case get_rule(method).visibility</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>253</pre>
      </td>
      <td>
        <pre>      when :enabled</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>254</pre>
      </td>
      <td>
        <pre>        return input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>255</pre>
      </td>
      <td>
        <pre>      when :disabled</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>256</pre>
      </td>
      <td>
        <pre>        return disabled_field(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>257</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>258</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>259</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>260</pre>
      </td>
      <td>
        <pre>    def disabled_content(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>261</pre>
      </td>
      <td>
        <pre>      options[:input_html] ||= {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>262</pre>
      </td>
      <td>
        <pre>      options[:input_html][:class] ||= &quot;&quot; </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>263</pre>
      </td>
      <td>
        <pre>      options[:input_html][:class] += &quot; #{options[:class]} #{method} disabled&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>264</pre>
      </td>
      <td>
        <pre>      value = &quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>265</pre>
      </td>
      <td>
        <pre>      if options[:input_html][:value].present?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>266</pre>
      </td>
      <td>
        <pre>        value = options[:input_html][:value]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>267</pre>
      </td>
      <td>
        <pre>      else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>268</pre>
      </td>
      <td>
        <pre>        value = object.send(method)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>269</pre>
      </td>
      <td>
        <pre>        if options[:model].present? # find label for select input</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>270</pre>
      </td>
      <td>
        <pre>          inst = options[:model].find(object.send(method)) </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>271</pre>
      </td>
      <td>
        <pre>          value = inst.send(options[:label_method]) if inst.present? if options[:label_method].present?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>272</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>273</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>274</pre>
      </td>
      <td>
        <pre>      options[:input_html][:value]=&quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>275</pre>
      </td>
      <td>
        <pre>      template.content_tag :span, value, options[:input_html]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>276</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>277</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>278</pre>
      </td>
      <td>
        <pre>    def disabled_field(method, options = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>279</pre>
      </td>
      <td>
        <pre>      self.label(method, options_for_label(options)) &lt;&lt; disabled_content(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>280</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>281</pre>
      </td>
      <td>
        <pre>     </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>282</pre>
      </td>
      <td>
        <pre>    # Generates readonly control</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>283</pre>
      </td>
      <td>
        <pre>    def readonly_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>284</pre>
      </td>
      <td>
        <pre>      value = ActionView::Helpers::InstanceTag.value(object, method)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>285</pre>
      </td>
      <td>
        <pre>      self.label(method, options_for_label(options)) &lt;&lt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>286</pre>
      </td>
      <td>
        <pre>      template.text_field_tag(method, value.to_s, {:disabled =&gt; 'disabled', :class=&gt;'disabled'})</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>287</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>288</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>289</pre>
      </td>
      <td>
        <pre> def datetime_enabled(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>290</pre>
      </td>
      <td>
        <pre>      Time::DATE_FORMATS[:datepicker] = I18n.t('time.formats.datepicker')</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>291</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>292</pre>
      </td>
      <td>
        <pre>      object_name = object.class.to_s.underscore.to_sym</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>293</pre>
      </td>
      <td>
        <pre>      value = ActionView::Helpers::InstanceTag.value(object, method)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>294</pre>
      </td>
      <td>
        <pre>      time_value = value.nil? ? &quot;&quot; : value.to_s(:time)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>295</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>296</pre>
      </td>
      <td>
        <pre>      date_value = value.nil? ? &quot;&quot; : value.to_s(:datepicker)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>297</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>298</pre>
      </td>
      <td>
        <pre>      options[:input_html] ||= {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>299</pre>
      </td>
      <td>
        <pre>      time_field_options = options.merge(:value =&gt; time_value, :class =&gt; 'time_picker')</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>300</pre>
      </td>
      <td>
        <pre>      options[:class] ||= 'date_picker'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>301</pre>
      </td>
      <td>
        <pre>      options[:value] ||= date_value</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>302</pre>
      </td>
      <td>
        <pre>      options[:class] += &quot; summary &quot; if options.include?(:summary)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>303</pre>
      </td>
      <td>
        <pre>      if(options.include?(:summary_length))</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>304</pre>
      </td>
      <td>
        <pre>        options[&quot;data-summary_length&quot;] = options[:summary_length] else</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>305</pre>
      </td>
      <td>
        <pre>        options[&quot;data-summary_length&quot;] = &quot;20&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>306</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>307</pre>
      </td>
      <td>
        <pre>      self.label(method, options_for_label(options)) &lt;&lt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>308</pre>
      </td>
      <td>
        <pre>      self.text_field(method, options) &lt;&lt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>309</pre>
      </td>
      <td>
        <pre>      self.text_field(method, time_field_options).gsub(/#{method}/, &quot;#{method}_time&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>310</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>311</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>312</pre>
      </td>
      <td>
        <pre>    def date_enabled(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>313</pre>
      </td>
      <td>
        <pre>      Time::DATE_FORMATS[:datepicker] = I18n.t('time.formats.datepicker')</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>314</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>315</pre>
      </td>
      <td>
        <pre>      object_name = object.class.to_s.underscore.to_sym</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>316</pre>
      </td>
      <td>
        <pre>      value = ActionView::Helpers::InstanceTag.value(object, method)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>317</pre>
      </td>
      <td>
        <pre>      date_value = value.nil? ? &quot;&quot; : value.to_s(:datepicker)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>318</pre>
      </td>
      <td>
        <pre>      options[:input_html] ||= {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>319</pre>
      </td>
      <td>
        <pre>      options[:class] ||= 'date_picker'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>320</pre>
      </td>
      <td>
        <pre>      options[:value] ||= date_value</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>321</pre>
      </td>
      <td>
        <pre>      self.label(method, options_for_label(options)) &lt;&lt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>322</pre>
      </td>
      <td>
        <pre>      self.text_field(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>323</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>324</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>325</pre>
      </td>
      <td>
        <pre>    def time_enabled(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>326</pre>
      </td>
      <td>
        <pre>      object_name = object.class.to_s.underscore.to_sym</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>327</pre>
      </td>
      <td>
        <pre>      value = ActionView::Helpers::InstanceTag.value(object, method)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>328</pre>
      </td>
      <td>
        <pre>      time_value = value.nil? ? &quot;&quot; : value.to_s(:time)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>329</pre>
      </td>
      <td>
        <pre>      options[:input_html] ||= {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>330</pre>
      </td>
      <td>
        <pre>      time_field_options = options.merge(:value =&gt; time_value, :class =&gt; 'time_picker')</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>331</pre>
      </td>
      <td>
        <pre>      self.label(method, options_for_label(options)) &lt;&lt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>332</pre>
      </td>
      <td>
        <pre>      self.text_field(method, time_field_options)     </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>333</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>334</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>335</pre>
      </td>
      <td>
        <pre>    def aligned_checkbox_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>336</pre>
      </td>
      <td>
        <pre>      case get_rule(method).visibility</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>337</pre>
      </td>
      <td>
        <pre>        when :enabled </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>338</pre>
      </td>
      <td>
        <pre>          return aligned_checkbox(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>339</pre>
      </td>
      <td>
        <pre>        when :disabled </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>340</pre>
      </td>
      <td>
        <pre>          return aligned_checkbox(method, add_disabled_option(options) )</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>341</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>342</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>343</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>344</pre>
      </td>
      <td>
        <pre>    def aligned_checkbox(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>345</pre>
      </td>
      <td>
        <pre>      input_options =  options.delete(:input_html) || {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>346</pre>
      </td>
      <td>
        <pre>      lbl = self.label(method, options_for_label(options)) </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>347</pre>
      </td>
      <td>
        <pre>      chk = self.check_box method, input_options</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>348</pre>
      </td>
      <td>
        <pre>      if options[:label_position]==:right</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>349</pre>
      </td>
      <td>
        <pre>        &quot;#{chk} #{lbl}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>350</pre>
      </td>
      <td>
        <pre>      else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>351</pre>
      </td>
      <td>
        <pre>        &quot;#{lbl} #{chk}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>352</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>353</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>354</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>355</pre>
      </td>
      <td>
        <pre>    def priority_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>356</pre>
      </td>
      <td>
        <pre>      return &quot;&quot; if control_hidden?(method)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>357</pre>
      </td>
      <td>
        <pre>      summary_options(options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>358</pre>
      </td>
      <td>
        <pre>      if control_disabled?(method)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>359</pre>
      </td>
      <td>
        <pre>        case get_rule('do_change_priority_button').visibility</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>360</pre>
      </td>
      <td>
        <pre>          when :enabled</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>361</pre>
      </td>
      <td>
        <pre>            return disabled_field(method, options) &lt;&lt; action_button({:name =&gt; :do_change_priority })</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>362</pre>
      </td>
      <td>
        <pre>          when :disabled</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>363</pre>
      </td>
      <td>
        <pre>            return disabled_field(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>364</pre>
      </td>
      <td>
        <pre>          when :hide</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>365</pre>
      </td>
      <td>
        <pre>            return disabled_field(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>366</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>367</pre>
      </td>
      <td>
        <pre>      else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>368</pre>
      </td>
      <td>
        <pre>        self.label(method,options_for_label(options)) &lt;&lt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>369</pre>
      </td>
      <td>
        <pre>        self.text_field(method,options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>370</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>371</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>372</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>373</pre>
      </td>
      <td>
        <pre>    def time_hours_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>374</pre>
      </td>
      <td>
        <pre>      return &quot;&quot; if control_hidden?(method)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>375</pre>
      </td>
      <td>
        <pre>      summary_options(options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>376</pre>
      </td>
      <td>
        <pre>      case get_rule(method).visibility</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>377</pre>
      </td>
      <td>
        <pre>        when :enabled</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>378</pre>
      </td>
      <td>
        <pre>          return enabled_time_hours(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>379</pre>
      </td>
      <td>
        <pre>        when :disabled</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>380</pre>
      </td>
      <td>
        <pre>          return disabled_time_hours(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>381</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>382</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>383</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>384</pre>
      </td>
      <td>
        <pre>    def enabled_time_hours(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>385</pre>
      </td>
      <td>
        <pre>      minutes = options[:show_minutes]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>386</pre>
      </td>
      <td>
        <pre>      options = options.except(:show_minutes)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>387</pre>
      </td>
      <td>
        <pre>      value = ActionView::Helpers::InstanceTag.value(object, &quot;#{method}_hours&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>388</pre>
      </td>
      <td>
        <pre>      label = self.label(method,options_for_label(options.merge({:class=&gt; &quot;time_hours&quot;})))</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>389</pre>
      </td>
      <td>
        <pre>      label &lt;&lt; template.text_field(@object_name, &quot;#{method}_hours&quot;, options.merge({:value=&gt;value})) &lt;&lt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>390</pre>
      </td>
      <td>
        <pre>        template.content_tag(:span, template.t('hours') , options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>391</pre>
      </td>
      <td>
        <pre>      if minutes</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>392</pre>
      </td>
      <td>
        <pre>        value = ActionView::Helpers::InstanceTag.value(object, &quot;#{method}_minutes&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>393</pre>
      </td>
      <td>
        <pre>        label &lt;&lt; template.text_field(@object_name, &quot;#{method}_minutes&quot;, options.merge({:value=&gt;value})) &lt;&lt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>394</pre>
      </td>
      <td>
        <pre>          template.content_tag(:span, template.t('minutes') , options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>395</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>396</pre>
      </td>
      <td>
        <pre>      return label</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>397</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>398</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>399</pre>
      </td>
      <td>
        <pre>    def disabled_time_hours(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>400</pre>
      </td>
      <td>
        <pre>      minutes = options[:show_minutes]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>401</pre>
      </td>
      <td>
        <pre>      options = options.except(:show_minutes)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>402</pre>
      </td>
      <td>
        <pre>      label = self.label(method,options_for_label(options))</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>403</pre>
      </td>
      <td>
        <pre>      label &lt;&lt; disabled_content(&quot;#{method}_hours&quot;, options) &lt;&lt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>404</pre>
      </td>
      <td>
        <pre>        template.content_tag(:span, template.t('hours') , options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>405</pre>
      </td>
      <td>
        <pre>      if minutes</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>406</pre>
      </td>
      <td>
        <pre>        label &lt;&lt; disabled_content(&quot;#{method}_minutes&quot;, options) &lt;&lt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>407</pre>
      </td>
      <td>
        <pre>          template.content_tag(:span, template.t('minutes') , options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>408</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>409</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>410</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>411</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>412</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>413</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>414</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="03eda05a664f0a0a8d3d203056fc2241d7278923">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/custom_form_builder/state_controls.rb</h3>
        <h4><span class="red">14.29 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module CustomFormBuilder</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  ##</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  # State aware controls - buttonizer, state_select ... </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  module StateControls</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>    def state_buttonizer(options = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>      hidden_events = options[:hide_events] || []</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>      css_class = options[:class] || 'state_buttonizer'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>      generate_hidden_field = options[:generate_hidden_field] || !options.has_key?(:class)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>      root = object</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>      root = object._root_document if object.respond_to?(:_root_document) &amp;&amp; object._root_document.present?      </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>      root_controller = root.class.to_s.tableize</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>      fields = @object.state_events.inject(&quot;&quot;) do |memo, event_name|</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>        if hidden_events.include?(event_name)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>          memo += &quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>        else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>          memo += template.tag(:input, { </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>            :type =&gt; :button, </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>            'data-event_name' =&gt; event_name, </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>            'data-root' =&gt; root_controller, </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>            'data-root_id' =&gt; root.id,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>            'data-entity_id' =&gt; object.id,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>            :value =&gt; ::I18n.t(&quot;activemodel.state_events.#{event_name}&quot;),</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>            :class =&gt; css_class</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>          }) </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>      hidden = template.tag(:input, { :type =&gt; :hidden, :name =&gt; :state_event, :id =&gt; :state_event_field })</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>      return fields unless generate_hidden_field</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>      template.raw(fields + hidden)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>    def implicit_state_events_select(options = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>      hidden_events = options[:hide_events] || []</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>      options[:selected_event] ||= &quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>      option_list = @object.event_types.inject(&quot;&quot;) do |memo, event_type|        </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>        if hidden_events.include?(event_type.name)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>          memo += &quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>        else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>          html_options = {:value =&gt; event_type.name,</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>            :title =&gt; event_type.description,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>            'data-name' =&gt; event_type.name, </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>            'data-caption' =&gt; event_type.caption, </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>            'data-actions' =&gt; event_type.actions.join('|')</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>          }</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>          html_options[:selected] = 'selected' if event_type.name.to_s == options[:selected_event].to_s</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>          memo += template.content_tag(:option, event_type.caption, html_options )</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>        end </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>      end    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre>      content = template.content_tag(:label, ::I18n.t(&quot;activemodel.state_events_label&quot;) ) &lt;&lt;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>      template.content_tag(:select, template.raw(option_list), :class =&gt; :state_events_select) &lt;&lt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>      template.tag(:input, { :type =&gt; :hidden, :name =&gt; :state_event, :id =&gt; :state_event_field })</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre>      template.content_tag :li, content</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>    def state_events_select(options = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre>      hidden_events = options[:hide_events] || []</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre>      option_list = @object.state_transitions.inject(&quot;&quot;) do |memo, transition|</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>65</pre>
      </td>
      <td>
        <pre>        if hidden_events.include?(transition.event)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>66</pre>
      </td>
      <td>
        <pre>          memo += &quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>67</pre>
      </td>
      <td>
        <pre>        else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>68</pre>
      </td>
      <td>
        <pre>          memo += template.content_tag(:option, ::I18n.t(&quot;activemodel.state_events.#{transition.event}&quot;), { </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>69</pre>
      </td>
      <td>
        <pre>            :value =&gt; transition.event, </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>70</pre>
      </td>
      <td>
        <pre>            &quot;data-type&quot; =&gt; ActivityTypeMapper.get(transition, object),</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>71</pre>
      </td>
      <td>
        <pre>            &quot;data-from_state&quot; =&gt; transition.from_name,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>72</pre>
      </td>
      <td>
        <pre>            &quot;data-to_state&quot; =&gt; transition.to_name</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>73</pre>
      </td>
      <td>
        <pre>          })</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>74</pre>
      </td>
      <td>
        <pre>        end </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>75</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>76</pre>
      </td>
      <td>
        <pre>      content = template.content_tag(:label, ::I18n.t(&quot;activemodel.state_events_label&quot;) ) &lt;&lt;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>77</pre>
      </td>
      <td>
        <pre>      template.content_tag(:select, option_list, :class =&gt; :state_events_select) &lt;&lt; </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>78</pre>
      </td>
      <td>
        <pre>      template.tag(:input, { :type =&gt; :hidden, :name =&gt; :state_event, :id =&gt; :state_event_field })</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>79</pre>
      </td>
      <td>
        <pre>      template.content_tag :li, content</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>80</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>81</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>82</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="a5ee2904c1d769edadc52295dabf85dfd64defe4">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/custom_form_builder/suggest_controls.rb</h3>
        <h4><span class="red">18.56 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module CustomFormBuilder</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  ##</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  # All suggest (autocomplete based) controls goes here. </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  module SuggestControls</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    # Generates generic suggest control</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>    #NEW SUGGEST METHODS</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>    def suggest_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>      return suggest(method, options, get_rule(method).visibility)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    def suggest(method, options, state)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>      options[:input_html] ||= {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>      wrapper_class = options[:input_html].delete(:class);</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>      assoc_name = method.to_s.sub(/_id$/, '')</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>      text = object.send(assoc_name).try(:display_name)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>      id = object.send(method)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>      attr_id = &quot;#{method}&quot;.to_sym</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>      options[:wrapper_html] ||= {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>      summary_options(options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>      summary = options[:input_html][:class]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>      summary_length = options[:input_html][&quot;data-summary_length&quot;]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>      text_input = &quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>      if state==:disabled</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>        text_input = disabled_content(method, :input_html =&gt; {:value =&gt; text,:class=&gt;summary,&quot;data-summary_length&quot;=&gt;summary_length })</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>      else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>        options[:input_html] = {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>        text_input = text_field(attr_id, options.merge(:value =&gt; text, :class =&gt; summary,&quot;data-summary_length&quot;=&gt;summary_length)).gsub(/_id/, '_text')</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>      result = self.label(method, options_for_label(options)).gsub(/_id/, '_text') &lt;&lt; text_input</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>      template.content_tag :span, result, :class =&gt; &quot;suggest_container #{wrapper_class} s_#{method.to_s}&quot;, &quot;data-id_value&quot; =&gt; id</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>    def suggest_title(klass)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>      template.suggest_title(klass)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>    def suggest_detail_icon</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>      template.content_tag :a, nil, :href =&gt; '#', :class =&gt; 'ui-icon ui-icon-info ui-state-disabled detail_button', :tabIndex =&gt; -1</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>    def suggest_add_icon(state)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>      return &quot;&quot; if state==:disabled</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>      template.content_tag :a, nil, :href =&gt; '#', :class =&gt; 'ui-icon ui-icon-circle-plus ui-state-disabled add_button', :tabIndex =&gt; -1</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>    def person_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>      options[:input_html] ||= {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>      options[:input_html][:class] = 'suggest_person'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>      options[:input_html][:title] = suggest_title(Person)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>      options[:input_html][:class] = 'suggest_person can_create' if template.can?(:create, Person)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre>      suggest_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre>    def customer_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre>      options[:input_html] ||= {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre>      options[:input_html][:class] = 'suggest_customer'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>      options[:input_html][:title] = suggest_title(Customer)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre>      suggest_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>65</pre>
      </td>
      <td>
        <pre>    def solver_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>66</pre>
      </td>
      <td>
        <pre>      options[:input_html] ||= {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>67</pre>
      </td>
      <td>
        <pre>      options[:input_html][:class] = 'suggest_solver'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>68</pre>
      </td>
      <td>
        <pre>      options[:input_html][:title] = suggest_title(Person)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>69</pre>
      </td>
      <td>
        <pre>      suggest_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>70</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>71</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>72</pre>
      </td>
      <td>
        <pre>    def ticket_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>73</pre>
      </td>
      <td>
        <pre>      options[:input_html] ||= {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>74</pre>
      </td>
      <td>
        <pre>      options[:input_html][:class] = 'suggest_ticket'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>75</pre>
      </td>
      <td>
        <pre>      options[:input_html][:title] = suggest_title(Ticket)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>76</pre>
      </td>
      <td>
        <pre>      suggest_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>77</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>78</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>79</pre>
      </td>
      <td>
        <pre>    def kb_suggest_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>80</pre>
      </td>
      <td>
        <pre>      options[:input_html] ||= {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>81</pre>
      </td>
      <td>
        <pre>      options[:input_html][:class] = 'suggest_kb'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>82</pre>
      </td>
      <td>
        <pre>      options[:input_html][:title] = suggest_title(Kb)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>83</pre>
      </td>
      <td>
        <pre>      suggest_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>84</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>85</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>86</pre>
      </td>
      <td>
        <pre>    def configuration_item_type_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>87</pre>
      </td>
      <td>
        <pre>      options[:input_html] ||= {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>88</pre>
      </td>
      <td>
        <pre>      options[:input_html][:class] = 'suggest_configuration_item_type'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>89</pre>
      </td>
      <td>
        <pre>      options[:input_html][:title] = suggest_title(ConfigurationItemType)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>90</pre>
      </td>
      <td>
        <pre>      suggest_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>91</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>92</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>93</pre>
      </td>
      <td>
        <pre>    def configuration_item_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>94</pre>
      </td>
      <td>
        <pre>      options[:input_html] ||= {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>95</pre>
      </td>
      <td>
        <pre>      options[:input_html][:class] = 'suggest_configuration_item'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>96</pre>
      </td>
      <td>
        <pre>      options[:input_html][:title] = suggest_title(ConfigurationItem)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>97</pre>
      </td>
      <td>
        <pre>      suggest_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>98</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>99</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>100</pre>
      </td>
      <td>
        <pre>    def request_template_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>101</pre>
      </td>
      <td>
        <pre>      options[:input_html] ||= {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>102</pre>
      </td>
      <td>
        <pre>      options[:input_html][:class] = 'suggest_request_template'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>103</pre>
      </td>
      <td>
        <pre>      options[:input_html][:title] = suggest_title(RequestTemplate)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>104</pre>
      </td>
      <td>
        <pre>      suggest_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>105</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>106</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>107</pre>
      </td>
      <td>
        <pre>    def category_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>108</pre>
      </td>
      <td>
        <pre>      options[:input_html] ||= {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>109</pre>
      </td>
      <td>
        <pre>      assoc_name = method.to_s.sub(/_id$/, '')</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>110</pre>
      </td>
      <td>
        <pre>      options[:input_html][:value] = object.send(assoc_name).try(:full_name)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>111</pre>
      </td>
      <td>
        <pre>      options[:input_html][:class] = 'suggest_category'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>112</pre>
      </td>
      <td>
        <pre>      options[:input_html][:title] = suggest_title(Category)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>113</pre>
      </td>
      <td>
        <pre>      suggest(method, options, get_rule(method).visibility) &lt;&lt;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>114</pre>
      </td>
      <td>
        <pre>      template.content_tag(:span, '', :class =&gt; 'kb_icon')</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>115</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>116</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>117</pre>
      </td>
      <td>
        <pre>    def actor_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>118</pre>
      </td>
      <td>
        <pre>      options[:input_html] ||= {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>119</pre>
      </td>
      <td>
        <pre>      options[:input_html][:class] = 'suggest_actor'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>120</pre>
      </td>
      <td>
        <pre>      options[:input_html][:title] = suggest_title(Actor)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>121</pre>
      </td>
      <td>
        <pre>      suggest_input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>122</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>123</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>124</pre>
      </td>
      <td>
        <pre>    def tag_suggest_input(method, options)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>125</pre>
      </td>
      <td>
        <pre>      select_options = {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>126</pre>
      </td>
      <td>
        <pre>      select_options[:multiple] = true</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>127</pre>
      </td>
      <td>
        <pre>      select_options[:name] = &quot;#{object_name}[#{method}]&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>128</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>129</pre>
      </td>
      <td>
        <pre>      select_options[:id] = &quot;#{object_name}_#{method}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>130</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>131</pre>
      </td>
      <td>
        <pre>      options[:input_html] ||= {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>132</pre>
      </td>
      <td>
        <pre>      options[:wrapper_html] ||= {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>133</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>134</pre>
      </td>
      <td>
        <pre>      options[:wrapper_html][:class] = 'tag_suggest'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>135</pre>
      </td>
      <td>
        <pre>      options[:input_html][:title] = suggest_title(Kb)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>136</pre>
      </td>
      <td>
        <pre>      input(method, options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>137</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>138</pre>
      </td>
      <td>
        <pre>      label = self.label(method, options_for_label(options)) </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>139</pre>
      </td>
      <td>
        <pre>      option_tags = &quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>140</pre>
      </td>
      <td>
        <pre>      object.tags.each do |tag|</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>141</pre>
      </td>
      <td>
        <pre>        option_tags &lt;&lt; template.content_tag(:option, tag, :selected =&gt; true, :value =&gt; tag)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>142</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>143</pre>
      </td>
      <td>
        <pre>      label + template.content_tag(:select, option_tags, select_options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>144</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>145</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>146</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>147</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="bb1389c6ed968fde0e1ee386126e92cd5bdc3df9">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/custom_form_builder/tab_panels.rb</h3>
        <h4><span class="red">23.53 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module CustomFormBuilder</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  module TabPanels</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    def tab_panel_vertical(options, &amp;block)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>      case get_rule(:tab_panel_vertical).visibility</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>      when :enabled</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>        options[:class] += ' tab_panel_vertical '</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>        return template.content_tag(:div, template.capture(&amp;block), :class=&gt;options[:class])</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>      when :hidden</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>        return &quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>    def tab_panel(&amp;block)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>      case get_rule(:tab_panel).visibility</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>        when :enabled </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>          return template.content_tag(:div, template.capture(&amp;block), :class=&gt; 'tab_panel')</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>        when :hidden</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>          return &quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>    # renders tab content. </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>    def tab(options, &amp;block) </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>      method = options.delete(:name)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>      options[:id] = &quot;tab_#{method}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>      result = case get_rule(method).visibility</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>        when :enabled </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>          inputs(options, &amp;block)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>        when :disabled </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>          inputs(options, &amp;block)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>      template.content_tag :ul, result</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>    def tab_panel_headers(headers, options = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>      case get_rule(:tab_panel).visibility</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>        when :enabled </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>          return tab_panel_headers_content(headers)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>        when :disabled</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>          return tab_panel_headers_content(headers)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>    def tab_panel_headers_content(headers)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>      result = &quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>      headers.each do |header|         #title = header.is_a?(Symbol) ? header : header[1]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>        key = header.is_a?(Symbol) ? header : header[0]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>        title = header.is_a?(Symbol) ? ::Formtastic::I18n.t(header, :scope =&gt; [:titles]) : header[1]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>        result &lt;&lt; case get_rule(key).visibility</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre>            when :enabled </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>              tab_panel_header(key, title)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>            when :disabled </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre>              &quot;&lt;li class='disabled'&gt;&lt;a href=\&quot;#tab_#{key}\&quot; tabIndex=\&quot;-1\&quot;&gt;#{title}}&lt;/a&gt;&lt;/li&gt;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>      template.content_tag :ul, template.raw(result)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre>    def tab_panel_header(key, title)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>65</pre>
      </td>
      <td>
        <pre>      link = template.content_tag :a, title, :href =&gt; &quot;#tab_#{key}&quot;, :tabIndex =&gt; -1</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>66</pre>
      </td>
      <td>
        <pre>      template.content_tag :li, link</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>67</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>68</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>69</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="071e3da8cce0fc4dd2e4fec872f9303cc8015453">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/db_connection.rb</h3>
        <h4><span class="red">25.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module DbConnection</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  def self.set</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    db_config = load_config(File.join(Rails.root, &quot;/config/mongodb.yml&quot;))</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre> </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>    mongo = db_config[Rails.env]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>    if mongo.include?('config_file') &amp;&amp; File.exists?(mongo['config_file'])</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>      Rails.logger.debug &quot;Establishing DB connection from '#{mongo['config_file']}' &quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>      mongo = load_config(mongo['config_file'])</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    hosts = mongo['hosts']</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>    Rails.logger.debug &quot;Trying to connect to the  '#{hosts.inspect}' &quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>    MongoMapper.connection = Mongo::Connection.multi(hosts, :logger =&gt; Rails.logger)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>        </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>  def self.load_config(filename)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>    YAML::load(File.read(filename))</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="66734a2513362272b52e1cefc357984e1d2bef09">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/db_manager.rb</h3>
        <h4><span class="red">43.48 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require 'mongo_mapper'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>class DbManager</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  @env = defined?(Rails) ? Rails.env : 'development' </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>  # Sets database for site specific entities</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>  def self.set_vd_database(subdomain)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>    MongoMapper.database = vd_db_name(subdomain)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>    MongoMapper.database</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>  # Drops vd databases for the current environment on current connection. Use with caution!!!</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>  def self.drop_vd_env_databases!</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>    each_db do |db_name| </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>      if  db_name =~ /-vd-#{Rails.env}$/</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>        MongoMapper.connection.drop_database(db_name)  </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>  #drop database with db_name</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>  def self.drop_database(db_name)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>    MongoMapper.connection.drop_database(db_name)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>  # Prints all databases on current connection to standard output.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>  def self.show_dbs</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>    each_db {|db_name| puts db_name }</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>  def self.site_db_exists?(site_id)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>    return false if site_id.blank?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>    db_name = vd_db_name(site_id)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>    MongoMapper.connection.database_names.include?(db_name)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>  # returns database name from site_id</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>  def self.vd_db_name(site_id)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>    return &quot;#{site_id}-vd#{db_suffix}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>  # returns site_id from database name. </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>  # Returns nil, if not valid</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>  def self.vd_site_id(db_name)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>    return nil unless vd_db?(db_name)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>    length = db_suffix.length+3</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>    return db_name[0,db_name.length-length]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre> </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>  # iterates throught all vd databases.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre>  # Block has two arguments:</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>  # db_name - name of the site db</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>  # site_id - associated site_id  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre>  def self.each_vd_db(&amp;block)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre>    MongoMapper.connection.database_names.each do |db_name|</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre>      block.call(db_name, vd_site_id(db_name)) if vd_site_db?(db_name)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre>  private</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>65</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>66</pre>
      </td>
      <td>
        <pre>  def self.vd_db?(db_name)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>67</pre>
      </td>
      <td>
        <pre>    /[a-zA-Z0-9_-]*-vd#{db_suffix}$/ =~ db_name</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>68</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>69</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>70</pre>
      </td>
      <td>
        <pre>  def self.vd_site_db?(db_name)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>71</pre>
      </td>
      <td>
        <pre>    vd_site_id(db_name).present?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>72</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>73</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>74</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>75</pre>
      </td>
      <td>
        <pre>  def self.each_db(&amp;block)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>76</pre>
      </td>
      <td>
        <pre>    MongoMapper.connection.database_names.each {|db_name| block.call(db_name) }</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>77</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>78</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>79</pre>
      </td>
      <td>
        <pre>  def self.db(db_name)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>80</pre>
      </td>
      <td>
        <pre>    MongoMapper.connection.db(db_name)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>81</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>82</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>83</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>84</pre>
      </td>
      <td>
        <pre>  def self.vd_db_name(site_id)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>85</pre>
      </td>
      <td>
        <pre>    return &quot;#{site_id}-vd#{db_suffix}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>86</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>87</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>88</pre>
      </td>
      <td>
        <pre>  def self.db_suffix</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>89</pre>
      </td>
      <td>
        <pre>    return &quot;-development&quot; if %w{ development devcached }.include?(env)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>90</pre>
      </td>
      <td>
        <pre>    return &quot;&quot; if env==&quot;production&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>91</pre>
      </td>
      <td>
        <pre>    &quot;-#{env}&quot; </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>92</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>93</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>94</pre>
      </td>
      <td>
        <pre>  def self.env</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>95</pre>
      </td>
      <td>
        <pre>    @env</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>96</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>97</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>98</pre>
      </td>
      <td>
        <pre>  def self.env=(environment)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>99</pre>
      </td>
      <td>
        <pre>    @env = environment</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>100</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>101</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>102</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="3b6ffcae1c0774cb2ce9e3c194b32470609dd453">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/db_seed.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require_relative 'db_seed/base_seed'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>require_relative 'db_seed/'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="63da6b15882b5d038416d9eef89540d4b39608c7">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/db_seed/base_seed.rb</h3>
        <h4><span class="red">28.36 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require_relative 'db_version'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>require_relative 'yaml_seed_store'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre># Base abstract class for data seeding.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>class BaseSeed</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>  def seed</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>    raise &quot;Implement in subclass&quot;  </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>  def logger=(logger)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    @logger = logger</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>  def logger</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>    @logger || Rails.logger</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>  private</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>  def seed_db_version</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>    DBVersion.create!</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>  def drop_empty_db</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>    db = MongoMapper.database</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>    if db.collections.count == 0</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>      log &quot;Deleting Db '#{db.name}' because is empty&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>      MongoMapper.connection.drop_database db.name </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre> </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>  def get_collection_data(hash, klass, key_attr)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>    if hash.nil?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>      hash = HashWithIndifferentAccess.new</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>      klass.all.each do |item|</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>        hash[item[key_attr].to_s] = item</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>    hash</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>  def log_progress(progress_message)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>    log &quot;Starting #{progress_message}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>    begin</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>      yield</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>      log &quot;#{progress_message} finished successfuly.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>    rescue</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>      log &quot;Error while #{progress_message}.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>      raise</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre>  def log(message)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre>    logger.info message</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre>  def collection_non_empty?(doc_klass)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>65</pre>
      </td>
      <td>
        <pre>    doc_klass.collection.count&gt;0</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>66</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>67</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>68</pre>
      </td>
      <td>
        <pre>  def seed_non_empty(doc_klass)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>69</pre>
      </td>
      <td>
        <pre>    if collection_non_empty?(doc_klass)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>70</pre>
      </td>
      <td>
        <pre>      log &quot;Skipping seeding #{doc_klass} because is non empty&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>71</pre>
      </td>
      <td>
        <pre>    else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>72</pre>
      </td>
      <td>
        <pre>      log_progress &quot;seeding #{doc_klass}&quot; do</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>73</pre>
      </td>
      <td>
        <pre>        yield</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>74</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>75</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>76</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>77</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>78</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>79</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>80</pre>
      </td>
      <td>
        <pre>  def raw_seed(klass, &amp;block)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>81</pre>
      </td>
      <td>
        <pre>    log_progress &quot;seeding #{klass}&quot; do</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>82</pre>
      </td>
      <td>
        <pre>      block.call(klass)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>83</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>84</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>85</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>86</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>87</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>88</pre>
      </td>
      <td>
        <pre>  def seed_data(klass, &amp;block)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>89</pre>
      </td>
      <td>
        <pre>    log_progress &quot;seeding #{klass}&quot; do</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>90</pre>
      </td>
      <td>
        <pre>      parse_data(load_from_store(klass), klass, &amp;block)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>91</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>92</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>93</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>94</pre>
      </td>
      <td>
        <pre>  def seed_tree(klass, &amp;block)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>95</pre>
      </td>
      <td>
        <pre>    log_progress &quot;seeding #{klass}&quot; do</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>96</pre>
      </td>
      <td>
        <pre>      parse_tree_model(load_from_store(klass), nil, klass)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>97</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>98</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>99</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>100</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>101</pre>
      </td>
      <td>
        <pre>  def parse_data(data, klass, &amp;block)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>102</pre>
      </td>
      <td>
        <pre>    if data.nil?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>103</pre>
      </td>
      <td>
        <pre>      log &quot;Source for #{klass} is empty, skipping ...&quot; </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>104</pre>
      </td>
      <td>
        <pre>      return</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>105</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>106</pre>
      </td>
      <td>
        <pre>    data.each do |arr|</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>107</pre>
      </td>
      <td>
        <pre>      obj = klass.new(arr)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>108</pre>
      </td>
      <td>
        <pre>      if block_given?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>109</pre>
      </td>
      <td>
        <pre>        block.call(obj)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>110</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>111</pre>
      </td>
      <td>
        <pre>      unless obj.save</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>112</pre>
      </td>
      <td>
        <pre>        raise &quot;Error while saving #{klass} entity.\nValidation Errors:#{obj.errors.inspect}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>113</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>114</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>115</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>116</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>117</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>118</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>119</pre>
      </td>
      <td>
        <pre>  # parses model represented as tree</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>120</pre>
      </td>
      <td>
        <pre>  def parse_tree_model(data, parent, klass)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>121</pre>
      </td>
      <td>
        <pre>    data.each do |node|</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>122</pre>
      </td>
      <td>
        <pre>      case</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>123</pre>
      </td>
      <td>
        <pre>        when node.is_a?(Hash) then # composite node</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>124</pre>
      </td>
      <td>
        <pre>          node.each do |key, value|</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>125</pre>
      </td>
      <td>
        <pre>            new_parent = klass.new( :name =&gt; key, :parent_id =&gt; parent.try(:id))</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>126</pre>
      </td>
      <td>
        <pre>            new_parent.do_create!</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>127</pre>
      </td>
      <td>
        <pre>            parse_tree_model(value, new_parent, klass)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>128</pre>
      </td>
      <td>
        <pre>          end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>129</pre>
      </td>
      <td>
        <pre>        when node.is_a?(String) then # leaf node</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>130</pre>
      </td>
      <td>
        <pre>          item = klass.new(:name =&gt; node, :parent_id =&gt; parent.try(:id))</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>131</pre>
      </td>
      <td>
        <pre>          item.do_create!</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>132</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>133</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>134</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>135</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>136</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>137</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>138</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="b29ca8cc0bc45d066e4def7c5d0b95024726e62f">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/db_seed/db_version.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre># Represents a current database version.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre># In future, this document should store informations about processed DB migrations. </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>class DBVersion</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  include MongoMapper::Document</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>  key :database_created_at, Time, :default =&gt; Time.now, :required =&gt; true</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>  key :version, Integer, :default =&gt; 0, :required =&gt; true</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="a5afee3a2e67ea7b1664da849a839796395e6b45">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/db_seed/yaml_seed_store.rb</h3>
        <h4><span class="red">25.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre># class for seeding data from yaml files</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>module YAMLSeedStore</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  private</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>  # Opens yaml file with seed data</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>  # First it search in data_seed/#{seed_template_name}/[undersored class name]</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>  # If not find the it fallbacks to data_seed/[undersored class name]</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>  # returns hash with data from yaml</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>  def load_from_store(seed_klass)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    raise &quot;Class should implement :seed_template_name accessor&quot; unless self.respond_to?(:seed_template_name)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    root_folder = &quot;#{Rails.root}/db/seed_data&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>    name = seed_klass.to_s.underscore </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>    filename = &quot;#{name}.yml&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>    fullname = File.join(root_folder, seed_template_name, filename )</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>    fullname = File.join( root_folder, filename )  unless File.exist?( fullname )</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>    raise &quot;Cannot find  '#{fullname}' file for data seed!&quot;  unless File.exist?( fullname )</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>    root_data = YAML::load_file( fullname )</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>    return root_data[name]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="722b69e8ce351f36d4d828f4325ebf10a834ef78">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/error_notifier.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre># Error notifications - sends errors to the exception aggregator service  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>module ErrorNotifier</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  # exc - error which should be send</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  # additional_data - Hash to provide additional error info.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>  def notify_error(exc, additional_data = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>    HoptoadNotifier.notify(</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>      :error_class   =&gt; exc.class.to_s,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>      :error_message =&gt; exc.message,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>      :parameters    =&gt; additional_data</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    )</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>  end </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="ea80b4d7a94de80e5d8decca36d2ecd7374dcc86">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/ext.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require_relative 'ext/array'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>require_relative 'ext/mongo_mapper_types'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>require_relative 'ext/time_extensions'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>require_relative 'ext/sanitize_oid'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="0bf8971ffc717ca057f6434b9df87aa46abdcc75">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/ext/array.rb</h3>
        <h4><span class="red">25.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require 'set'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>class Array</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre> def distinct(&amp;blk)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>   blk ||= lambda {|x| x}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>   already_seen = Set.new</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>   uniq_array = []</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>   self.each_with_index do |value, i|</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>     x = blk.call(value)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>     unless already_seen.include? x</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>       already_seen &lt;&lt; x</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>       uniq_array &lt;&lt; value</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>     end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>   end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>   uniq_array</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre> end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="75459206fac37dabef0edf436dc846dae2b4b89c">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/ext/mongo_mapper_types.rb</h3>
        <h4><span class="red">33.33 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module ActiveSupport</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  class TimeZone</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>    def self.to_mongo(value)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>      if value.nil? || value == ''</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>        nil</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>      else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>        time_zone = value.is_a?(TimeZone) ? value : TimeZone[value.to_s]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>        time_zone.name</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    def self.from_mongo(value)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>      if value.blank? || value.is_a?(TimeZone)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>        value</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>      else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>        TimeZone[value]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>class Money</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>  def self.to_mongo(money)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>    return nil if money.nil?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>    #raise &quot;Invalid type of money : #{money}&quot; if money.class != Money</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>    return money if money.class == String</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>    return &quot;#{money.cents} #{money.currency.iso_code}&quot; if money.class == Money</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>  def self.from_mongo(money)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>    return nil if money.nil?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>    return money if money.class == Money</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>    raise &quot;Invalid money value #{money}&quot; if money.class != String</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>    money_data = money.split</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>    Money.new(money_data[0].to_i, money_data[1])</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="e21eff9963dfce4556935ec535b70d2de2cf59f3">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/ext/sanitize_oid.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require 'bson'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>class String</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  # Sanitizes BSON::ObjectId.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>  # If String is invalid BSON::ObjectId, </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>  # then returns default_val (defaults to nil)</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>  def sanitize_oid(default_val = nil)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="4">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>    BSON::ObjectId.legal?(self) ? self : default_val</pre>
      </td>
      <td class="hits">
        4
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>class NilClass</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>  # Sanitizes BSON::ObjectId.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>  # If String is invalid BSON::ObjectId, </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>  # then returns default_val (defaults to nil)</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>  def sanitize_oid(default_val = nil)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>    default_val</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre> </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="33606d8e718d187ee37ff68b258d496628f6b07b">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/ext/time_extensions.rb</h3>
        <h4><span class="red">55.56 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module TimeExtensions</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>    def is_lower(time)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>      self.minutes_low &lt; time.minutes_low</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>    def is_lower_high(time)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>      self.minutes_low &lt; time.minutes_high</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    def diference_from(time)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>      self.minutes_high - time.minutes_low</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>    def minutes_low()</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>      self.hour*60 + self.min</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>    def minutes_high()</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>      ret = self.hour*60 + self.min</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>      if ret == 0</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>        ret = 24*60</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>      ret</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>class Time</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>  include TimeExtensions</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>class ActiveSupport::TimeWithZone</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>  include TimeExtensions</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="3396f5b91b4c5a15c0293129451eb752b4c6e1b5">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/feature_toggle.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require_relative 'feature_toggle/feature'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>require_relative 'feature_toggle/toggler'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>require_relative 'feature_toggle/rails_toggler'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="faded7479109bcc321750e06ef75bc050b25e356">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/feature_toggle/feature.rb</h3>
        <h4><span class="yellow">85.71 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module FeatureToggle</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  class Feature</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>    attr_accessor :description</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>    attr_reader :name, :hidden_envs</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>    def initialize(name)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="10">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>      raise ArgumentError, &quot;name cannot be nil&quot; if name.nil?</pre>
      </td>
      <td class="hits">
        10
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="10">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>      @name = name.to_s.to_sym</pre>
      </td>
      <td class="hits">
        10
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="10">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>      @hidden_envs = []</pre>
      </td>
      <td class="hits">
        10
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    def hidden?(current_env)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="4">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>      hidden_envs.include?(current_env)</pre>
      </td>
      <td class="hits">
        4
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>    def ==(other)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>      return false if other.nil? || !other.is_a?(self.class)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>      name == other.name</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>    alias :eql? :==</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="a6f4849aa88b9d44cf5ed12c12553be49c0f9293">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/feature_toggle/rails_toggler.rb</h3>
        <h4><span class="red">75.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module FeatureToggle</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  class RailsToggler &lt; Toggler</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>    def current_env </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>      Rails.env</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="4bac236389bf62bed70f04d48a4af7e2f4a14225">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/feature_toggle/toggler.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module FeatureToggle</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  class Toggler</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>    attr_accessor :current_env</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>    attr_reader :features</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    attr_reader :config_file</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>    def initialize(config_file)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="5">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>      @config_file = config_file</pre>
      </td>
      <td class="hits">
        5
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="5">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>      @features = {}</pre>
      </td>
      <td class="hits">
        5
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="5">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>      parse_config</pre>
      </td>
      <td class="hits">
        5
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>    def self.load_config(config_file)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="5">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>      inst = self.new(config_file)</pre>
      </td>
      <td class="hits">
        5
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="5">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>      inst</pre>
      </td>
      <td class="hits">
        5
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>    def parse_config</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="5">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>      config = HashWithIndifferentAccess.new(YAML.load_file(config_file))</pre>
      </td>
      <td class="hits">
        5
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="5">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>      config.each do |feature_name, feature_hash|</pre>
      </td>
      <td class="hits">
        5
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="10">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>        f = parse_feature(feature_name, feature_hash)</pre>
      </td>
      <td class="hits">
        10
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="10">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>        features[f.name] = f     </pre>
      </td>
      <td class="hits">
        10
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>    def parse_feature(name, hash)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="10">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>      hash ||= {}</pre>
      </td>
      <td class="hits">
        10
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="10">
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>      f = Feature.new(name)</pre>
      </td>
      <td class="hits">
        10
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="10">
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>      f.description = hash[:description]</pre>
      </td>
      <td class="hits">
        10
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="10">
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>      hash[:hide_in].split.each do |env|</pre>
      </td>
      <td class="hits">
        10
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="20">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>        f.hidden_envs &lt;&lt; env</pre>
      </td>
      <td class="hits">
        20
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="10">
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>      f</pre>
      </td>
      <td class="hits">
        10
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>    def hidden?(feature_name)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="4">
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>      f = features[feature_name]</pre>
      </td>
      <td class="hits">
        4
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="4">
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>      return false if f.nil?</pre>
      </td>
      <td class="hits">
        4
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="4">
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>      f.hidden?(current_env)   </pre>
      </td>
      <td class="hits">
        4
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>        </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>    def toggle(feature_name, &amp;block)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>      block.call unless hidden?(feature_name)</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="9aae5cb362a8c9e27c1741759a8a222f39de42cf">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/grid_list.rb</h3>
        <h4><span class="red">33.33 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module GridList</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  # reformats data to conform jqgrid json format.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  # total .. total pages </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  # page .. actual page number</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>  # records .. total records in the dataset</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>  # rows .. returned data</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>  def to_json(options={})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>    settings = {}.merge(options)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>    settings[:records] ||= self.count unless self.empty?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    settings[:total] = ( (settings[:records] - 1 ) / settings[:per_page] ) + 1</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    &quot;{ \&quot;total\&quot;: \&quot;#{settings[:total]}\&quot;, \&quot;page\&quot;: \&quot;#{settings[:page]}\&quot;, \&quot;records\&quot;: \&quot;#{settings[:records]}\&quot;,\&quot;rows\&quot;: #{super(options)}}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="b696f1605eb9d229fab095d472573d59593ca9e1">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/jobs.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module Jobs</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  require_relative 'jobs/configuration/base_configuration'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  require_relative 'jobs/tracking/base_tracker'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  require_relative 'jobs/tracking/queue_processor_tracker'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>  require_relative 'jobs/base'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>  require_relative 'jobs/queue_processor'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="3029023edcba0b12260f9d842477005b5e3fe8e2">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/jobs/base.rb</h3>
        <h4><span class="red">75.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require 'logger'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>module Jobs</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>  # Base job processor class. </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>  # Class implements method execute which is typically called by periodic scheduler (cron)</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>  # Inherited classes should define job implementation in method perform  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>  class Base</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>    include Logging</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    include ErrorNotifier</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    attr_accessor :tracker</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>    def initialize(options = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>      @logger = options[:logger] </pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>      @tracker = options[:tracker]</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>    def self.execute(options = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>      self.new(options).execute</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>    def perform      </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>      raise &quot;Implement by inheritor&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>    def execute</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>      @tracker = Tracking::BaseTracker.new(self.class.to_s.demodulize.underscore)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>      tracker.track!</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>      info &quot;Starting #{job_name.humanize} job&quot;</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>      perform</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>      info  &quot;#{job_name.humanize} job finished successfuly&quot;</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>      tracker.set_success!</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>    rescue =&gt; err</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>      log_error(err)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>    ensure </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>      self</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>    def log_error(exc)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>      error_note = &quot;Error while processing #{job_name.humanize} job.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>      error_message = &quot;#{error_note} #{format_exception(exc)}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>      error error_message</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>      tracker.set_error!(error_message)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>      notify_error(exc, :note =&gt; error_note)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>    def info(message)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="13">
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>      super(message)</pre>
      </td>
      <td class="hits">
        13
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="13">
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>      tracker.info(message) if tracker</pre>
      </td>
      <td class="hits">
        13
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>    def error(message)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre>      super(message)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>      tracker.error(message) if tracker</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre> </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>    def job_name</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="6">
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre>      self.class.to_s</pre>
      </td>
      <td class="hits">
        6
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>65</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>66</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="818da3252ea3991e45e08e48e2916a9a1c638975">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/jobs/configuration/base_configuration.rb</h3>
        <h4><span class="red">46.15 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module Jobs</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  module Configuration</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>    class BaseConfiguration</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>      attr_accessor :name</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>      attr_accessor :site_id</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>      def initialize(name, site_id)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>        @name = name</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>        @site_id = site_id</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>        @doc = doc_template</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>      def save!</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>        collection.save(@doc)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>      def doc_template</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>        {</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>          :site_id =&gt; site_id,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>          :name =&gt; name,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>          :process =&gt; false</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>        }</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>      def self.set_process!(name, site_id)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>        self.collection(name).update( {'name'=&gt;name, 'site_id'=&gt;site_id}, {&quot;$set&quot; =&gt; {&quot;process&quot; =&gt; &quot;true&quot;} } )</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>      def self.set_not_process!(name, site_id)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>        self.collection(name).update( {'name'=&gt;name, 'site_id'=&gt;site_id}, {&quot;$set&quot; =&gt; {&quot;process&quot; =&gt; &quot;false&quot;}} )</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>      def self.find_by(name, site_id)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>        return collection(name).find_one(:name =&gt; name, :site_id =&gt; site_id)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>      def database</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>        @database ||= MongoMapper.connection.db(&quot;jobs#{env_suffix}&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>      def env_suffix</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>        return &quot;-gem-development&quot; unless defined?(Rails)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>        env_suffix = &quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>        env_suffix = &quot;-#{Rails.env}&quot; unless Rails.env.production?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>        env_suffix</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>      def collection_name</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>        &quot;#{name}_configuration&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre>      def collection</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>        @collection ||= database.collection(collection_name)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre>      def self.collection(name)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre>        @collection ||= database.collection(&quot;#{name}_configuration&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre>      def self.database</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre>        @database ||= MongoMapper.connection.db(&quot;jobs#{env_suffix}&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>65</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>66</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>67</pre>
      </td>
      <td>
        <pre>      def self.env_suffix</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>68</pre>
      </td>
      <td>
        <pre>        return &quot;-gem-development&quot; unless defined?(Rails)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>69</pre>
      </td>
      <td>
        <pre>        env_suffix = &quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>70</pre>
      </td>
      <td>
        <pre>        env_suffix = &quot;-#{Rails.env}&quot; unless Rails.env.production?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>71</pre>
      </td>
      <td>
        <pre>        env_suffix</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>72</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>73</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>74</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>75</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>76</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="c72bdda2f93cc8d9f3f5d76476cc766ea475b504">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/jobs/queue_processor.rb</h3>
        <h4><span class="green">91.3 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require 'logger'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>module Jobs</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>  # Base class for processing queue messages as commands</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>  # Inherited classes should define job implementation in method process_message</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>  # and queue_name method to return actual queue name</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>  class QueueProcessor &lt; Base</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    # Implemented by inheritors. Should return actual queue name</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    def queue_name</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>      raise &quot;Not Implemented. Implement in inheritor&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>    def execute(options = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>      queue = Messaging::Queue.new queue_name</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>      info &quot;Starting #{job_name.humanize} job&quot;</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>      info &quot;Processing queue #{queue_name}&quot;</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>      processed_messages = 0</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>      while message = queue.dequeue_message</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>        processed_messages += 1</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>        @tracker = Tracking::QueueProcessorTracker.new(self.class.to_s.demodulize.underscore, message)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>        tracker.track!</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>        begin</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>          info &quot;Processing message #{message.to_s}&quot;</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>          process_message(message[:data])</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>          info  &quot;Processing finished successfuly&quot;</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>          tracker.set_success!</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>        rescue =&gt; err</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>          log_error(err)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>      info &quot;Total processed mesages: #{processed_messages}&quot;</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>      info  &quot;#{job_name.humanize} finished successfuly&quot;</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>      self</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="1b263012fbd8f4f0ca82cb6ef6c585f7523ae72e">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/jobs/tracking/base_tracker.rb</h3>
        <h4><span class="green">90.24 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module Jobs</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  module Tracking</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>    # MongoDB Base JobTracker</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>    class BaseTracker</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>      attr_accessor :name</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>      attr_reader :status, :status_description</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>      def initialize(name)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>        @name = name</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>        @doc = tracker_doc_template</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>        @status = @doc[:status]</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>      def track!</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>        collection.save(@doc)</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>      def tracker_doc_template</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>        {</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>          :name =&gt; name,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>          :created_at =&gt; Time.now,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>          :status =&gt; :inprogress,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>          :log =&gt; []</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>        }</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>      def info(message)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="7">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>        log(message, :info)</pre>
      </td>
      <td class="hits">
        7
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>      def error(message)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>        log(message, :error)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>      def log(message, severity)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="7">
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>        collection.update(me_selector, { &quot;$push&quot; =&gt; { &quot;log&quot; =&gt; log_entry(message, severity) } })</pre>
      </td>
      <td class="hits">
        7
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>      def me_selector</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="9">
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>        {'_id' =&gt; @doc[:'_id'] }</pre>
      </td>
      <td class="hits">
        9
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>      def log_entry(message, severity)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>        {</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>          :created_at =&gt; Time.now,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>          :message =&gt; message,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>          :severity =&gt; severity.to_s</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="7">
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>        }</pre>
      </td>
      <td class="hits">
        7
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>      def set_success!</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>        @status = :ok</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre>        collection.update( me_selector, {&quot;$set&quot; =&gt; {&quot;status&quot; =&gt; @status.to_s} } )</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>      def set_error!(err)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre>        @status = :error</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre>        @status_description = err</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre>        collection.update( me_selector, {&quot;$set&quot; =&gt; {&quot;status&quot; =&gt; @status.to_s, &quot;status_description&quot; =&gt; err} } )</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>65</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>66</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>67</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>68</pre>
      </td>
      <td>
        <pre>      def database</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>69</pre>
      </td>
      <td>
        <pre>        @database ||= MongoMapper.connection.db(&quot;jobs#{env_suffix}&quot;)</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>70</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>71</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>72</pre>
      </td>
      <td>
        <pre>      def env_suffix</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>73</pre>
      </td>
      <td>
        <pre>        return &quot;-gem-development&quot; unless defined?(Rails)</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>74</pre>
      </td>
      <td>
        <pre>        env_suffix = &quot;&quot;</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>75</pre>
      </td>
      <td>
        <pre>        env_suffix = &quot;-#{Rails.env}&quot; unless Rails.env.production?</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>76</pre>
      </td>
      <td>
        <pre>        env_suffix</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>77</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>78</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>79</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>80</pre>
      </td>
      <td>
        <pre>      def collection_name</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>81</pre>
      </td>
      <td>
        <pre>        &quot;#{name}_tracker&quot;</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>82</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>83</pre>
      </td>
      <td>
        <pre>      def collection</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="11">
      <td class="line_number">
        <pre>84</pre>
      </td>
      <td>
        <pre>        @collection ||= database.collection(collection_name)</pre>
      </td>
      <td class="hits">
        11
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>85</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>86</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>87</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>88</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>89</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="ea090cd9f6da09de8a66c403c8178d04558fc11c">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/jobs/tracking/queue_processor_tracker.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module Jobs</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  module Tracking</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>    # MongoDB Queue processor tracker</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>    class QueueProcessorTracker &lt; BaseTracker</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>      def initialize(name, message)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>        super(name)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>        @doc['message'] = message</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>        </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="c721fa27d5341d49099672d39367920a4d7f42b6">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/logging.rb</h3>
        <h4><span class="red">61.54 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module Logging</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  attr_accessor :logger</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  def info(message)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="17">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    puts message</pre>
      </td>
      <td class="hits">
        17
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="17">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>    logger.info(message) if @logger</pre>
      </td>
      <td class="hits">
        17
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>  def error(message)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    puts message</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    logger.error(message) if @logger</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>  def format_exception(exception)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>    &quot;\n#{exception.message}\nBacktrace:\n#{exception.backtrace.join(&quot;\n&quot;)}&quot; </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>  def log_exception(message, exception)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>    &quot;#{message} #{exception}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>    error(message)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="ff51154feab3d152b6d4e182f504ced20c9307fb">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/messaging.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module Messaging</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  require_relative 'messaging/mongo_backend'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  require_relative 'messaging/message'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  require_relative 'messaging/queue'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="d4aeb0ea06fb662a35c7d64dda1868b819064ffb">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/messaging/message.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module Messaging</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  class Message &lt; Hash</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>    def self.create(data)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>      { </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>        :status =&gt; &quot;inserted&quot;, </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>        :create_date =&gt; Time.now, </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>        :data =&gt; data </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>      }</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="c8563fb7162055c282c592638bf3889f55091080">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/messaging/mongo_backend.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module Messaging</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  module MongoBackend</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    def enqueue(data)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>      message = Message.create(data)</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>      message[:queue_name] = name</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>      collection.insert(message)      </pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    def dequeue_message</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="7">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>      message = collection.find_and_modify(</pre>
      </td>
      <td class="hits">
        7
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>        :query =&gt; {:status =&gt; &quot;inserted&quot; },</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>        :sort =&gt; [&quot;create_date&quot;, :desc], </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>        :update =&gt; { '$set' =&gt; { status: &quot;processed&quot; } },</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>        :check_response =&gt; false</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>      )</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>      if message</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>        message = HashWithIndifferentAccess.new.merge(message)</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>      collection.remove({ :status =&gt; &quot;processed&quot; })</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>      message</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>      rescue Mongo::OperationFailure</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="4">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>        nil</pre>
      </td>
      <td class="hits">
        4
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>    def dequeue</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="4">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>      message = dequeue_message</pre>
      </td>
      <td class="hits">
        4
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="4">
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>      message.nil? ? nil : message['data'] </pre>
      </td>
      <td class="hits">
        4
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>    def delete</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>      collection.remove</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>    alias :clear :delete</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>    def database</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="5">
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>      @database ||= MongoMapper.connection.db(&quot;messaging#{env_suffix}&quot;)</pre>
      </td>
      <td class="hits">
        5
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>    private</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>    def env_suffix</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="5">
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>      return &quot;-gem-development&quot; unless defined?(Rails)</pre>
      </td>
      <td class="hits">
        5
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="5">
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>      env_suffix = &quot;&quot;</pre>
      </td>
      <td class="hits">
        5
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="5">
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>      env_suffix = &quot;-#{Rails.env}&quot; unless Rails.env.production?</pre>
      </td>
      <td class="hits">
        5
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="5">
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>      env_suffix</pre>
      </td>
      <td class="hits">
        5
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>    def collection</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="15">
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>      @collection ||= database.collection(&quot;queue_#{name}&quot;)</pre>
      </td>
      <td class="hits">
        15
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="35bfcb1806813d135837882e2b3f64b50c14f13a">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/messaging/queue.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>module Messaging</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  class Queue </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    include MongoBackend  </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>    attr_reader :name</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>    def initialize(queue_name)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="5">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>      @name = queue_name</pre>
      </td>
      <td class="hits">
        5
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="5b939659af22571dc0838dee502648663ae022fe">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/middlewares.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require_relative 'middlewares/i18n_js'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>require_relative 'middlewares/mongo_mapper_cleanup'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="98f6834e60fcd7cf57f9ce16e83d0842dc2b1537">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/middlewares/i18n_js.rb</h3>
        <h4><span class="red">16.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre># Hi! I'am rack middleware!</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre># I was born for return to you valid js on json i18n objects</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre># My author's name was Aleksandr Koss. Mail him at kossnocorp@gmail.com</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre># Nice to MIT you!</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>module Rack</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>  class I18nJs</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>    def initialize app, options = {}</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>      @app = app</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>      @options = options</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>    def call env</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>      # Valid url is /i18n-&lt;locale&gt;.js where</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>      # i18n key - yaml branch named &quot;locale.key&quot;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>      # locale - locale as is</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>      if data_array = env['PATH_INFO'].scan(/^\/i18n-(\w{1,3})[.]js$/)[0]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>        locale = data_array.first</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>        selected = &quot;default&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>        user_id = env['rack.session']['warden.user.user.key']</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>        </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>        unless user_id.nil?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>          user = User.find(user_id[1].to_s)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>          unless user.user_settings.nil?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>            selected = user.user_settings.time_format</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>          end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>        # Get yaml</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>        loc_data = YAML::load(::File.open(&quot;#{Rails.root}/config/locales/js/#{locale}.yml&quot;))[locale]['js']</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>        formats_data = YAML::load(::File.open(&quot;#{Rails.root}/config/locales/js/formats-#{locale}.yml&quot;))[locale]['js']</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>        if formats_data.nil?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>          json = loc_data.to_json</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>        else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>          selected_time_format = {&quot;formats&quot;=&gt; {&quot;time&quot; =&gt; formats_data['formats']['time'][selected] }}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>          json = loc_data.merge(selected_time_format).to_json</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>        return @app.call env if json == 'null' # Branch not found</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>        content_type = 'application/javascript'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>        response =  &quot;var i18n = #{json};&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>        [200, {'Content-Type' =&gt; content_type}, [response]]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>      else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>        @app.call env</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="41c6f4144227f8234c9bfb5ea1e4c8015fdf204b">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/middlewares/mongo_mapper_cleanup.rb</h3>
        <h4><span class="red">36.36 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module Rack</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  class MongoMapperCleanup</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>    def initialize app, options = {}</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>      @app = app</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>      @options = options</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>    end  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>    def call env</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>      if Rails.configuration.cache_classes </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>        MongoMapper::Plugins::IdentityMap.clear </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>      else </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>        MongoMapper::Document.descendants.clear </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>        MongoMapper::Plugins::IdentityMap.models.clear </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>      end </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>      return @app.call env</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="8d3fa01e89fdacf1017c5fb79b826fe05d0e8db3">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/mongo_mapper.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require_relative 'mongo_mapper/plugins'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="249dc8539b9d014dd85b759da5c3b05e6ac29c1e">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/mongo_mapper/plugins.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require_relative 'plugins/basic_entity_state'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>require_relative 'plugins/codelist'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>require_relative 'plugins/custom_field'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>require_relative 'plugins/custom_field_type'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>require_relative 'plugins/id_generator'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>require_relative 'plugins/localization'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>require_relative 'plugins/nested_attributes'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>require_relative 'plugins/search_builder'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>require_relative 'plugins/state_terminated'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>require_relative 'plugins/archivable'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre># install common plugins</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>module DocumentPluginAddition</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>  def self.included(model)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>    model.plugin MongoMapper::Plugins::IdentityMap</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>    model.plugin MongoMapper::Plugins::Localization</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>module EmbeddedDocumentPluginAddition</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>  def self.included(model)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>    model.plugin MongoMapper::Plugins::Localization</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>MongoMapper::Document.append_inclusions(DocumentPluginAddition)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>MongoMapper::EmbeddedDocument.append_inclusions(EmbeddedDocumentPluginAddition)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="42b0b2076627cd8e4ad0dbc6dbf4110397998ade">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/mongo_mapper/plugins/archivable.rb</h3>
        <h4><span class="red">33.33 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module MongoMapper</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  module Plugins</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>    module Archivable</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>      def self.configure(model)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>        model.class_eval do</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>          key :entity_id</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>          before_destroy :save_to_archive</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>      module InstanceMethods</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>        def save_to_archive</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>          old_db_name = MongoMapper.database.name</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>          db_name = &quot;#{old_db_name}-archive&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>          MongoMapper.database = db_name</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>          self.entity_id = self._id</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>          require 'bson'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>          self._id = BSON::ObjectId.new</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>          self.save(:validate=&gt;false)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>          MongoMapper.database = old_db_name</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>          self._id = self.entity_id</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="5049620e6913ef071c08a6bfff499ba1b153e9e1">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/mongo_mapper/plugins/basic_entity_state.rb</h3>
        <h4><span class="red">31.82 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module MongoMapper</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  module Plugins</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>    module BasicEntityState</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>      def self.configure(model)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>        model.class_eval do</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>          plugin MongoMapper::Plugins::StateTerminated</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>          state_machine :initial =&gt; :draft do</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>            event :do_activate do</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>              transition [:inactive] =&gt; :active</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>            end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>            event :do_deactivate do</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>              transition [:active] =&gt; :inactive</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>            end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>            event :do_save do</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>              transition [:active, :inactive] =&gt; same</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>            end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>            event :do_create do</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>              transition [:draft] =&gt; :active</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>            end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>          end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>          scope :actives, :state =&gt; :active</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>      module ClassMethods</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>        def actives_or_self(entity)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>          ret = self.actives.all</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>          ret &lt;&lt; entity unless entity.nil? || entity.state == &quot;active&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>          ret</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>      module InstanceMethods</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="1ea86da1b5b2dba6c332ab65fd2fd911cafebb50">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/mongo_mapper/plugins/codelist.rb</h3>
        <h4><span class="red">53.85 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>module MongoMapper</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  module Plugins</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>    module Codelist</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>      def self.configure(model)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>        model.class_eval do</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>          key :name, String, :required =&gt; true</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>          key :description, String</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>          key :sequence_id, Integer</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>          before_create :_init_sequence_id</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>      module ClassMethods</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>      module InstanceMethods</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>        def _init_sequence_id</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>          self.sequence_id = self.class.count+1</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="543e79efcca0f2fce04957fdcebed445fc9fc1ef">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/mongo_mapper/plugins/custom_field.rb</h3>
        <h4><span class="red">35.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module MongoMapper</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  module Plugins</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>    module CustomField</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>      def self.configure(model)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>        model.class_eval do</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>          key :type_id, ObjectId</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>          belongs_to :type, :class_name =&gt; model::CustomEntityClassName </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>          many :fields, :class_name =&gt; 'CustomFields::Field'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>          validates_associated :fields</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>      module InstanceMethods</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>        #Assigns entity_type and refreshes fields according to type specification</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>        def assign_type(entity_type)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>          self.type = entity_type</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>          refresh_fields</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>        def refresh_fields</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>          self.type.field_definitions.each do |definition|</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>            existing_field = fields.detect {|f| f.definition == definition}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>            if existing_field</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>              existing_field.definition = definition</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>            else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>              self.fields &lt;&lt; CustomFields::Field.new(:definition =&gt; definition)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>            end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>          end unless self.type.nil?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>          self.save :validate =&gt; false</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="70521c74cf6901187961fb7fce328fe8a4767888">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/mongo_mapper/plugins/custom_field_type.rb</h3>
        <h4><span class="red">57.14 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module MongoMapper</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  module Plugins</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>    module CustomFieldType</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>      def self.configure(model)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>        model.class_eval do</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>          many :field_definitions, :class_name =&gt; 'CustomFields::Definition'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>          validates_associated :field_definitions</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="178f2680a09e100c0892fe01507e5864780ee5e6">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/mongo_mapper/plugins/id_generator.rb</h3>
        <h4><span class="red">36.36 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>module MongoMapper</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  module Plugins</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>    module IdGenerator</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>      def self.configure(model)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>        model.class_eval do</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>          key :human_id, Integer</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>          key :human_id_formatted, String</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>          before_create :_set_before_create</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>      module ClassMethods</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>        # Allows defining id structure (prefix, number length, suffix)</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>        def id_format(id_format)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>          @id_format = id_format</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>        def _id_format</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>          @id_format</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>        def current_id</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>          db = MongoMapper.database</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>          coll = db[&quot;entity_counters&quot;]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>          items = coll.find(&quot;id&quot; =&gt; self.to_s()).count()</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>          if items == 0</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>            doc = {&quot;id&quot; =&gt; self.to_s(), &quot;count&quot; =&gt; 1}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>            coll.insert(doc)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>          else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>            coll.update( {&quot;id&quot; =&gt; self.to_s()}, {&quot;$inc&quot; =&gt; { &quot;count&quot; =&gt; 1 }} )</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>          end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>          item = coll.find_one(&quot;id&quot; =&gt; self.to_s())</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>          return item[&quot;count&quot;]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>        # method for rspec tests</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>        def reset_counter</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>          db = MongoMapper.database</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>          coll = db[&quot;entity_counters&quot;]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>          coll.remove({&quot;id&quot; =&gt; self.to_s()})</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>      module InstanceMethods</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>        def _set_before_create</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>          set_human_id unless self.respond_to?(:state)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>        def set_human_id</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre>          self.human_id = self.class.current_id</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>          self.human_id_formatted = sprintf(self.class._id_format, self.human_id) unless self.class._id_format.blank?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="f1602862afab3c5bfc619cd18f2af7608aa6b38d">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/mongo_mapper/plugins/localization.rb</h3>
        <h4><span class="red">23.33 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module MongoMapper</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  module Plugins</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>    module Localization</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>      module ClassMethods</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>        def self_and_descendants#nodoc:</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>          klass = self</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>          classes = []</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>          while klass != Object  </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>            classes &lt;&lt; klass </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>            klass = klass.superclass</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>          end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>          classes</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>        rescue</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>          [self]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre> </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>        # Transforms attribute key names into a more humane format, such as &quot;First name&quot; instead of &quot;first_name&quot;. Example:</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>        #   Person.human_attribute_name(&quot;first_name&quot;) # =&gt; &quot;First name&quot;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>        # This used to be depricated in favor of humanize, but is now preferred, because it automatically uses the I18n</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>        # module now.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>        # Specify +options+ with additional translating options.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>        def human_attribute_name(attribute_key_name, options = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>          base_attributes = [:created_at, :created_by, :updated_at, :active, :id, :name]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>          attribute_key_name = attribute_key_name.to_s.gsub(/\?$/, '').to_sym</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>          defaults = self_and_descendants.map do |klass|</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>            &quot;#{klass.name.underscore.gsub('/', '.')}.#{attribute_key_name}&quot;.to_sym</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>          end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>          defaults &lt;&lt; options[:default] if options[:default]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>          defaults &lt;&lt; attribute_key_name if base_attributes.include?(attribute_key_name)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>          defaults.flatten!</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>          result = ::I18n.translate(defaults.shift, options.merge(:default =&gt; defaults, :scope =&gt; [:activemodel, :attributes]))</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>          if result.include?(&quot;translation missing&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>            default_result = ::I18n.translate(attribute_key_name.to_sym, :scope =&gt; [:activemodel, :attributes]) </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>            result = default_result unless (default_result.include?(&quot;translation missing&quot;) or default_result.is_a?(Hash))</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>          end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>          raise &quot;Locatization of the '#{defaults.inspect}' results in a hash '#{result.inspect}'. Use leaf localization keys only to return single string value.&quot; if result.is_a?(Hash)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>          result</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre> </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>        # Transform the modelname into a more humane format, using I18n.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>        # Defaults to the basic humanize method.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>        # Default scope of the translation is active_model.models</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>        # Specify +options+ with additional translating options.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>        def human_name(options = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>          defaults = self_and_descendants.map do |klass|</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>            &quot;#{klass.name.underscore.gsub('/', '.')}&quot;.to_sym</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>          end </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>          ::I18n.translate(defaults.shift, {:scope =&gt; [:activemodel, :models], :count =&gt; 1, :default =&gt; defaults}.merge(options))</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="2a217047a1cc4b07f301a81134d7f74eec988c27">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/mongo_mapper/plugins/nested_attributes.rb</h3>
        <h4><span class="red">22.41 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module MongoMapper</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  module Plugins</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>    module NestedAttributes</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>      module ClassMethods</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>        def accepts_nested_attributes_for(*attr_names)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>          options = { :allow_destroy =&gt; false }</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>          options.update(attr_names.extract_options!)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>          options.assert_valid_keys(:allow_destroy, :reject_if)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>          for association_name in attr_names</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>            if (association = associations.select { |key, value| key == association_name.to_s }) &amp;&amp; association.present?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>              association = association[association_name.to_s]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>              type = association.type</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>              custom_class = association.options[:class] </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>              custom_class ||= association.options[:class_name].constantize if association.options[:class_name].present?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>            elsif (key = keys.select { |key, value| key == association_name.to_s }) &amp;&amp; key.present? &amp;&amp; key.last.last.embeddable?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>              type = 'embedded_key'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>              custom_class = key.last.last.type</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>            else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>              raise ArgumentError, &quot;No association found for name `#{association_name}'. Has it been defined yet?&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>            end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>            klass = custom_class || association_name.to_s.classify.constantize</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>            module_eval %{</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>            def #{association_name}_attributes=(attributes)</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>              assign_nested_attributes_for_#{type}_association(:#{association_name}, #{klass}, attributes, #{options[:allow_destroy]})</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>            end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>            }, __FILE__, __LINE__</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>          end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>        protected</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>        def association_or_embeddable_key_exists?(name)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>          return true</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>          matching_key = keys.select{ |key, value| key == name.to_s }</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>          matching_key.present? &amp;&amp; matching_key.last.last.embeddable?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>      module InstanceMethods</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>        UNASSIGNABLE_KEYS = %w{ id _id _destroy }</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>        def assign_nested_attributes_for_many_association(association_name, klass, attributes_collection, allow_destroy)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>          unless attributes_collection.is_a?(Hash) || attributes_collection.is_a?(Array)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>            raise ArgumentError, &quot;Hash or Array expected, got #{attributes_collection.class.name} (#{attributes_collection.inspect})&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>          end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>          if attributes_collection.is_a? Hash</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>            attributes_collection = attributes_collection.sort_by { |index, _| index.to_i }.map { |_, attributes| attributes }</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>          end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>          attributes_collection.each do |attributes|</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>            attributes.stringify_keys!</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre>            entity_id =  attributes['_id'] ||  attributes['id']</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre>            if entity_id.blank?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre>              send(association_name) &lt;&lt; klass.new(attributes)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>            elsif existing_record = send(association_name).detect { |record| record.id.to_s == entity_id.to_s }</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre>              if has_destroy_flag?(attributes) &amp;&amp; allow_destroy</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre>                if klass.embeddable?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>65</pre>
      </td>
      <td>
        <pre>                  send(association_name).delete(existing_record)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>66</pre>
      </td>
      <td>
        <pre>                else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>67</pre>
      </td>
      <td>
        <pre>                  existing_record.destroy</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>68</pre>
      </td>
      <td>
        <pre>                end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>69</pre>
      </td>
      <td>
        <pre>              else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>70</pre>
      </td>
      <td>
        <pre>                existing_record.attributes = attributes.except(*UNASSIGNABLE_KEYS)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>71</pre>
      </td>
      <td>
        <pre>              end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>72</pre>
      </td>
      <td>
        <pre>            end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>73</pre>
      </td>
      <td>
        <pre>          end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>74</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>75</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>76</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>77</pre>
      </td>
      <td>
        <pre>        def assign_nested_attributes_for_one_association(association_name, klass, attributes, allow_destroy)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>78</pre>
      </td>
      <td>
        <pre>          unless attributes.is_a?(Hash)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>79</pre>
      </td>
      <td>
        <pre>            raise ArgumentError, &quot;Hash expected, got #{attributes.class.name} (#{attributes.inspect})&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>80</pre>
      </td>
      <td>
        <pre>          end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>81</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>82</pre>
      </td>
      <td>
        <pre>          attributes.stringify_keys!</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>83</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>84</pre>
      </td>
      <td>
        <pre>          if attributes['_id'].blank?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>85</pre>
      </td>
      <td>
        <pre>            send(&quot;#{association_name}=&quot;, klass.new(attributes))</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>86</pre>
      </td>
      <td>
        <pre>          else </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>87</pre>
      </td>
      <td>
        <pre>            existing_record = send(association_name)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>88</pre>
      </td>
      <td>
        <pre>            if existing_record.has_destroy_flag?(attributes) &amp;&amp; allow_destroy</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>89</pre>
      </td>
      <td>
        <pre>              if klass.embeddable?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>90</pre>
      </td>
      <td>
        <pre>                send(&quot;#{association_name}=&quot;, nil)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>91</pre>
      </td>
      <td>
        <pre>              else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>92</pre>
      </td>
      <td>
        <pre>                existing_record.destroy</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>93</pre>
      </td>
      <td>
        <pre>              end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>94</pre>
      </td>
      <td>
        <pre>            else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>95</pre>
      </td>
      <td>
        <pre>              existing_record.attributes = attributes.except(*UNASSIGNABLE_KEYS)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>96</pre>
      </td>
      <td>
        <pre>            end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>97</pre>
      </td>
      <td>
        <pre>          end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>98</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>99</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>100</pre>
      </td>
      <td>
        <pre>        alias_method :assign_nested_attributes_for_embedded_key_association, :assign_nested_attributes_for_one_association</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>101</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>102</pre>
      </td>
      <td>
        <pre>        def has_destroy_flag?(hash)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>103</pre>
      </td>
      <td>
        <pre>          Boolean.to_mongo(hash['_delete'])</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>104</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>105</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>106</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>107</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>108</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>109</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>110</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="61e41530d208abb573d3b570a7fc27c6fd9e0124">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/mongo_mapper/plugins/search_builder.rb</h3>
        <h4><span class="red">64.29 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module MongoMapper</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  module Plugins</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>    # Plugin defines the search_name_key, which contains values from the keys defined in search_fields array. </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>    # Plugin automatically updates this key on before save.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    module SearchBuilder</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>      def self.configure(model)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>        model.class_eval do</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>          key :search_name, String</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>          before_save :_update_search_name</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>      module ClassMethods</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>        # Allows defining searched keys</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>        def search_fields (search_fields = [])</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>          @search_fields ||= search_fields</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>      module InstanceMethods</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>        protected</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>        # Before save callback. Updates value for the search_name key</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>        def _update_search_name</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>          self.search_name = self.class.search_fields.inject('|') { |memo, key|  memo.to_s + send(key).to_s + '|' }</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>    end  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="dc6293c1ca485e835e266972ea608bb0b9572451">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/mongo_mapper/plugins/state_terminated.rb</h3>
        <h4><span class="red">61.54 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>module MongoMapper</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  module Plugins</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>    module StateTerminated</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>      def self.configure(model)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>      module ClassMethods</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>        def all(options = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>          arr = self.where(options).all</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>          ret = arr.find_all{|item| item.state != 'terminated'}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>          ret</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>      module InstanceMethods</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>        def do_terminate</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>          self.state = :terminated</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>          save!</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="af67d414901845cfc2e6fc284f48af6ed9730f7f">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/mongo_migrations.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module MongoMigrations</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  require_relative 'mongo_migrations/log_entry'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  require_relative 'mongo_migrations/runner'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  require_relative 'mongo_migrations/migration_run'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="f76bb327e48c579b706f83e8db6f4e69b1338acd">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/mongo_migrations/log_entry.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module MongoMigrations</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  class LogEntry</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>    include MongoMapper::EmbeddedDocument</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>    key :severity, String </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    key :message, String</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>    key :created_at, Time, :default =&gt; Time.now</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="fafbe50a08c9a41ff938f16adbfab12299ffa7a5">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/mongo_migrations/migration_run.rb</h3>
        <h4><span class="yellow">84.78 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module MongoMigrations</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  class MigrationRun</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>    include MongoMapper::Document</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    key :version, Integer, :required =&gt; true</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>    key :db_name, String, :required =&gt; true</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>    key :script, Hash, :required =&gt; true</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>    key :created_at, Time, :required =&gt; true, :default =&gt; Time.now</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>    key :status, String, :required =&gt; true, :default =&gt; :not_started</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    many :log_entries, :class_name =&gt; 'MongoMigrations::LogEntry' </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    def self.last</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="21">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>      sort(:version).last</pre>
      </td>
      <td class="hits">
        21
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>    def self.last_successful</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>      where(:status =&gt; 'success').sort(:version).last</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>     def self.any_unresolved?</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="10">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>      where(:status =&gt; 'error').count &gt; 0</pre>
      </td>
      <td class="hits">
        10
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>    def self.resolve(db)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>      db.collection(self.collection_name).update({:status =&gt; 'error'}, { '$set' =&gt; { status: &quot;error_resolved&quot; } })</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>    def start!</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="9">
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>      self.status = :in_progress</pre>
      </td>
      <td class="hits">
        9
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="9">
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>      save!</pre>
      </td>
      <td class="hits">
        9
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="9">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>      info &quot;Migration run ##{version} started&quot;</pre>
      </td>
      <td class="hits">
        9
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>    def success!</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="5">
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>      self.status = :success</pre>
      </td>
      <td class="hits">
        5
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="5">
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>      save!</pre>
      </td>
      <td class="hits">
        5
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="5">
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>      info &quot;Migration run processed sucessfuly&quot; </pre>
      </td>
      <td class="hits">
        5
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>    def ignore!</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>      self.status = :ignored</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>      save!</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>      info &quot;Migration run was ignored&quot; </pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>    def fail!(exception)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>      self.status = :error</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>      save!</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>      log_exception &quot;Error while processing migration run&quot;, exception</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>    def to_hash</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>      output_hash = {</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre>        :created_at =&gt; self.created_at.time,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre>        :version =&gt; self.version,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre>        :db_name =&gt; self.db_name,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>        :script =&gt; self.script,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre>        :status =&gt; self.status,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre>        :log_entries =&gt; []</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre>      }</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>65</pre>
      </td>
      <td>
        <pre>      self.log_entries.each do |log|</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>66</pre>
      </td>
      <td>
        <pre>        entry_hash = {:severity =&gt; log.severity, :message =&gt; log.message }</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>67</pre>
      </td>
      <td>
        <pre>        output_hash[:log_entries] &lt;&lt; entry_hash</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>68</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>69</pre>
      </td>
      <td>
        <pre>      output_hash</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>70</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>71</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>72</pre>
      </td>
      <td>
        <pre>    def log_exception(message, exception)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>73</pre>
      </td>
      <td>
        <pre>      track(:error, &quot;#{message} #{exception}&quot;)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>74</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>75</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>76</pre>
      </td>
      <td>
        <pre>    def info(message)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="17">
      <td class="line_number">
        <pre>77</pre>
      </td>
      <td>
        <pre>      track(:info, message)</pre>
      </td>
      <td class="hits">
        17
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>78</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>79</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>80</pre>
      </td>
      <td>
        <pre>    def track(severity, message)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="18">
      <td class="line_number">
        <pre>81</pre>
      </td>
      <td>
        <pre>      log_entries &lt;&lt; LogEntry.new(:severity =&gt; severity, :message =&gt; message)</pre>
      </td>
      <td class="hits">
        18
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="18">
      <td class="line_number">
        <pre>82</pre>
      </td>
      <td>
        <pre>      save!</pre>
      </td>
      <td class="hits">
        18
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>83</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>84</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>85</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>86</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>87</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>88</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="f520bceb00d3c0af10d94972c604721a61db9289">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/mongo_migrations/runner.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module MongoMigrations</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  class Runner</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>    include Logging</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>    include ErrorNotifier</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    attr_reader :script_folder</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>    attr_reader :scripts</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>    attr_reader :current_version</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>    attr_reader :failed_run</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    VALID_FILES = &quot;[0-9]*_*.rb&quot;</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    def initialize(script_folder)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="8">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>      @script_folder = script_folder</pre>
      </td>
      <td class="hits">
        8
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="8">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>      file_pattern = File.join(@script_folder, VALID_FILES)  </pre>
      </td>
      <td class="hits">
        8
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="8">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>      @script_files = Dir.glob(file_pattern)</pre>
      </td>
      <td class="hits">
        8
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="8">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>      parse_files</pre>
      </td>
      <td class="hits">
        8
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>    def parse_files</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="8">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>      @scripts = []</pre>
      </td>
      <td class="hits">
        8
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="8">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>      @script_files.each do |f|</pre>
      </td>
      <td class="hits">
        8
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="13">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>        basename = File.basename(f, &quot;.rb&quot;)</pre>
      </td>
      <td class="hits">
        13
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="13">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>        splitted = basename.split('_', 2)</pre>
      </td>
      <td class="hits">
        13
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="13">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>        version = splitted.first.to_i</pre>
      </td>
      <td class="hits">
        13
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="13">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>        name = splitted.last</pre>
      </td>
      <td class="hits">
        13
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>        @scripts &lt;&lt; {</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>          :version =&gt; version,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>          :fullname =&gt; f,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>          :name =&gt; name,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>          :script =&gt; IO.read(f) </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="13">
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>        }</pre>
      </td>
      <td class="hits">
        13
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>    def migrate(apply_scripts = true)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="6">
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>      @apply_scripts = apply_scripts</pre>
      </td>
      <td class="hits">
        6
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="21">
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>      scripts_to_process = @scripts.find_all { |s| s[:version] &gt; last_version }   </pre>
      </td>
      <td class="hits">
        21
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="12">
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>      scripts_to_process.sort! {|x,y| x[:version] &lt;=&gt; y[:version] }</pre>
      </td>
      <td class="hits">
        12
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="6">
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>      scripts_to_process.each do |script|</pre>
      </td>
      <td class="hits">
        6
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="10">
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>        @script = script</pre>
      </td>
      <td class="hits">
        10
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="10">
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>        mr = run_migration_step</pre>
      </td>
      <td class="hits">
        10
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="10">
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>        return false if mr.nil? || mr.status.to_s == 'error'</pre>
      </td>
      <td class="hits">
        10
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="4">
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>      true</pre>
      </td>
      <td class="hits">
        4
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>    def last_version</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="15">
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>      return 0 if last_migration.nil?</pre>
      </td>
      <td class="hits">
        15
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="5">
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>      last_migration.version</pre>
      </td>
      <td class="hits">
        5
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>    def last_migration</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="20">
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>      MigrationRun.last</pre>
      </td>
      <td class="hits">
        20
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre>    def any_migration_unresolved?</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="10">
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>      MigrationRun.any_unresolved?</pre>
      </td>
      <td class="hits">
        10
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>65</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>66</pre>
      </td>
      <td>
        <pre>    def run_migration_step</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>67</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="10">
      <td class="line_number">
        <pre>68</pre>
      </td>
      <td>
        <pre>      if any_migration_unresolved?</pre>
      </td>
      <td class="hits">
        10
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>69</pre>
      </td>
      <td>
        <pre>        info &quot;Migration cannot be processed because some of the previous runs are unresolved&quot;</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>70</pre>
      </td>
      <td>
        <pre>        return</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>71</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="9">
      <td class="line_number">
        <pre>72</pre>
      </td>
      <td>
        <pre>      run_script</pre>
      </td>
      <td class="hits">
        9
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>73</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>74</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>75</pre>
      </td>
      <td>
        <pre>    def run_script</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="9">
      <td class="line_number">
        <pre>76</pre>
      </td>
      <td>
        <pre>      mr = start_migration_run</pre>
      </td>
      <td class="hits">
        9
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="9">
      <td class="line_number">
        <pre>77</pre>
      </td>
      <td>
        <pre>      begin</pre>
      </td>
      <td class="hits">
        9
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="9">
      <td class="line_number">
        <pre>78</pre>
      </td>
      <td>
        <pre>        if @apply_scripts</pre>
      </td>
      <td class="hits">
        9
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="6">
      <td class="line_number">
        <pre>79</pre>
      </td>
      <td>
        <pre>          self.instance_eval @script[:script] </pre>
      </td>
      <td class="hits">
        6
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="5">
      <td class="line_number">
        <pre>80</pre>
      </td>
      <td>
        <pre>          mr.success!</pre>
      </td>
      <td class="hits">
        5
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>81</pre>
      </td>
      <td>
        <pre>        else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>82</pre>
      </td>
      <td>
        <pre>          info &quot;Migration is run in replay mode. No script will be processed but version will be updated to the latest migration script&quot;</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>83</pre>
      </td>
      <td>
        <pre>          mr.ignore!</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>84</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>85</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>86</pre>
      </td>
      <td>
        <pre>      rescue Exception =&gt; err</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>87</pre>
      </td>
      <td>
        <pre>        notify_error(err)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>88</pre>
      </td>
      <td>
        <pre>        @failed_run = mr</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>89</pre>
      </td>
      <td>
        <pre>        mr.fail!(err)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>90</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="9">
      <td class="line_number">
        <pre>91</pre>
      </td>
      <td>
        <pre>      mr</pre>
      </td>
      <td class="hits">
        9
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>92</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>93</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>94</pre>
      </td>
      <td>
        <pre>    def start_migration_run</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="9">
      <td class="line_number">
        <pre>95</pre>
      </td>
      <td>
        <pre>      mr = MigrationRun.new(</pre>
      </td>
      <td class="hits">
        9
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>96</pre>
      </td>
      <td>
        <pre>        :version =&gt; @script[:version],</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>97</pre>
      </td>
      <td>
        <pre>        :db_name =&gt; MongoMapper.database.name,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>98</pre>
      </td>
      <td>
        <pre>        :script =&gt; @script</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>99</pre>
      </td>
      <td>
        <pre>      )</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="9">
      <td class="line_number">
        <pre>100</pre>
      </td>
      <td>
        <pre>      mr.start!</pre>
      </td>
      <td class="hits">
        9
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="9">
      <td class="line_number">
        <pre>101</pre>
      </td>
      <td>
        <pre>      mr</pre>
      </td>
      <td class="hits">
        9
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>102</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>103</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>104</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>105</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>106</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>107</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>108</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="a343323353985d96bad50aa84fd22cc4819258f2">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/patches.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require_relative 'patches/action_controller'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>require_relative 'patches/rack'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>require_relative 'patches/cancan'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>require_relative 'patches/mongo_mapper'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>require_relative 'patches/mail'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>require_relative 'patches/pop3'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>require_relative 'patches/capybara'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="d496711cb666377a2932e51bcb13c17bab4eec7c">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/patches/action_controller.rb</h3>
        <h4><span class="red">66.67 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module ActionController</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  # Needed for Formtastic</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  module RecordIdentifier</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    # Returns the plural class name of a record or class. Examples:</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>    #</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>    #   plural_class_name(post)             # =&gt; &quot;posts&quot;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>    #   plural_class_name(Highrise::Person) # =&gt; &quot;highrise_people&quot;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>    def plural_class_name(record_or_class)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>      model_name_from_record_or_class(record_or_class).plural</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>    # Returns the singular class name of a record or class. Examples:</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>    #</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>    #   singular_class_name(post)             # =&gt; &quot;post&quot;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>    #   singular_class_name(Highrise::Person) # =&gt; &quot;highrise_person&quot;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>    def singular_class_name(record_or_class)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>      model_name_from_record_or_class(record_or_class).singular</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>    private</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>    def model_name_from_record_or_class(record_or_class)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>      (record_or_class.is_a?(Class) ? record_or_class : record_or_class.class).model_name</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="4b601c27a0abca2f15baa39cc53029ef6dae3f6b">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/patches/cancan.rb</h3>
        <h4><span class="red">57.14 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require 'cancan'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>module CanCan</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  class ControllerResource # :nodoc:</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>    # PATCH: get error if existing resource not found </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    def find_resource</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>      if @options[:singleton] &amp;&amp; resource_base.respond_to?(name)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>        resource_base.send(name)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>      else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>        @options[:find_by] ? resource_base.send(&quot;find_by_#{@options[:find_by]}!&quot;, id_param) : resource_base.find!(id_param)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="897f040ef70caf293968c06823d6288c291dcdda">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/patches/capybara.rb</h3>
        <h4><span class="red">55.56 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require 'capybara'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>class Capybara::Driver::Selenium</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>  # Saves png screenshot to the filename</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>  def save_screenshot(filename)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>    base64_png = bridge.getScreenshot</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>    png_string = Base64.decode64(base64_png)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>    File.open(filename, 'wb') {|f| f.write(png_string) }</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>  private </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>  # Returns native webdriver  bridge </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>  def bridge</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>    browser.instance_variable_get('@bridge')</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="26211fdd1945616012636d1fde2aaeed79a54301">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/patches/mail.rb</h3>
        <h4><span class="red">40.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require 'mail'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>require 'mail/encodings'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  	</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>Mail::Ruby19.class_eval do </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>  def self.q_value_decode(str)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>    match = str.match(/\=\?(.+)?\?[Qq]\?(.+)?\?\=/m)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>    if match</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>      encoding = match[1]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>      str = Mail::Encodings::QuotedPrintable.decode(match[2])</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>      str = Iconv.iconv('UTF-8', encoding, str)[0]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>    str</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>end # Ruby19 class</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="0c5600ecb283ba6a7902ca9d0fdea97f5b19afd4">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/patches/mongo_mapper.rb</h3>
        <h4><span class="red">70.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require 'mongo_mapper'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>module MongoMapper</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  module Plugins</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    module Patches</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>      # MongoMapper patches</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>      module ClassMethods</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>        # Patch - do not create index now, we do not know database yet ...</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>        def ensure_index(name_or_array, options={})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>          keys_to_index = if name_or_array.is_a?(Array)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>                            name_or_array.map { |pair| [pair[0], pair[1]] }</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>                          else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>                            name_or_array</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>                          end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>          # TODO: add index creation responsibility to the DbManager</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>          # collection.create_index(keys_to_index, options[:unique])</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>    end  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>MongoMapper::Document.append_extensions(MongoMapper::Plugins::Patches)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="a7f88a68b1cbd7174261cf213fefc3b104067bf4">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/patches/pop3.rb</h3>
        <h4><span class="red">17.74 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre># -*- coding: utf-8 -*-</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>require 'net/pop'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>require 'net/protocol'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>Net::POP3Command.class_eval do    #:nodoc: internal use only</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>  def starttls</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>    getok 'STLS'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>  # Existing connection stablished?</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>  def initialize(sock, existing = false)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    @socket = sock</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>    @error_occured = false</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>    if not existing</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>      res = check_response(critical { recv_response() })</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>      @apop_stamp = res.slice(/&lt;[!-~]+@[!-~]+&gt;/)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>end   # class POP3Command</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>Net::POP3.class_eval do </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>  def use_tls?</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>    @use_tls</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>  def enable_tls</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>    @use_tls = true</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>  def disable_tls</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>    @use_tls = false</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>  def enable_ssl(verify_or_params = {}, certs = nil, port = nil)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>    begin</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>      @ssl_params = verify_or_params.to_hash.dup</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>      @port = @ssl_params.delete(:port) || @port</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>    rescue NoMethodError</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>      @ssl_params = POP3.create_ssl_params(verify_or_params, certs)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>      @port = port || @port</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>  def do_start(account, password)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>    s = timeout(@open_timeout) { TCPSocket.open(@address, port) }</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>    ssl_connection = lambda do |socket|</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>      context = OpenSSL::SSL::SSLContext.new</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>      context.set_params(@ssl_params)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>      s = OpenSSL::SSL::SSLSocket.new(socket, context)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>      s.sync_close = true</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>      s.connect</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>      if context.verify_mode != OpenSSL::SSL::VERIFY_NONE</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre>        s.post_connection_check(@address)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>      s</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre>    if use_ssl? or use_tls?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre>        raise 'openssl library not installed' unless defined?(OpenSSL)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre>    if use_ssl? and not use_tls?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre>      ssl_connection.call(s)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>65</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>66</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>67</pre>
      </td>
      <td>
        <pre>    @socket = Net::InternetMessageIO.new(s)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>68</pre>
      </td>
      <td>
        <pre>    logging &quot;POP session started: #{@address}:#{@port} (#{@apop ? 'APOP' : 'POP'})&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>69</pre>
      </td>
      <td>
        <pre>    @socket.read_timeout = @read_timeout</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>70</pre>
      </td>
      <td>
        <pre>    @socket.debug_output = @debug_output</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>71</pre>
      </td>
      <td>
        <pre>    on_connect</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>72</pre>
      </td>
      <td>
        <pre>    @command = Net::POP3Command.new(@socket)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>73</pre>
      </td>
      <td>
        <pre>    if apop?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>74</pre>
      </td>
      <td>
        <pre>      if use_tls?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>75</pre>
      </td>
      <td>
        <pre>        @command.starttls</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>76</pre>
      </td>
      <td>
        <pre>        @socket = ssl_connection.call(s)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>77</pre>
      </td>
      <td>
        <pre>        @command = Net::POP3Command.new(@socket = Net::InternetMessageIO.new(s), true)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>78</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>79</pre>
      </td>
      <td>
        <pre>      @command.apop account, password</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>80</pre>
      </td>
      <td>
        <pre>    else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>81</pre>
      </td>
      <td>
        <pre>      if use_tls?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>82</pre>
      </td>
      <td>
        <pre>        @command.starttls</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>83</pre>
      </td>
      <td>
        <pre>        @socket = ssl_connection.call(s)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>84</pre>
      </td>
      <td>
        <pre>        @command = Net::POP3Command.new(@socket = Net::InternetMessageIO.new(s), true)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>85</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>86</pre>
      </td>
      <td>
        <pre>      @command.auth account, password</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>87</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>88</pre>
      </td>
      <td>
        <pre>    @started = true</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>89</pre>
      </td>
      <td>
        <pre>  ensure</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>90</pre>
      </td>
      <td>
        <pre>    # Authentication failed, clean up connection.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>91</pre>
      </td>
      <td>
        <pre>    unless @started</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>92</pre>
      </td>
      <td>
        <pre>      s.close if s and not s.closed?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>93</pre>
      </td>
      <td>
        <pre>      @socket = nil</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>94</pre>
      </td>
      <td>
        <pre>      @command = nil</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>95</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>96</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>97</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>98</pre>
      </td>
      <td>
        <pre>end   # class POP3</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>99</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>100</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>101</pre>
      </td>
      <td>
        <pre># Mail library monkeypatch</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>102</pre>
      </td>
      <td>
        <pre>#Mail::POP3.class_eval do </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>103</pre>
      </td>
      <td>
        <pre>#    # Start a POP3 session and ensures that it will be closed in any case.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>104</pre>
      </td>
      <td>
        <pre>#    def start(config = Mail::Configuration.instance, &amp;block)</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>105</pre>
      </td>
      <td>
        <pre>#      raise ArgumentError.new(&quot;Mail::Retrievable#pop3_start takes a block&quot;) unless block_given?</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>106</pre>
      </td>
      <td>
        <pre>#</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>107</pre>
      </td>
      <td>
        <pre>#      pop3 = Net::POP3.new(settings[:address], settings[:port], isapop = false)</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>108</pre>
      </td>
      <td>
        <pre>#      pop3.enable_ssl({ :verify_mode =&gt; OpenSSL::SSL::VERIFY_NONE }, nil, settings[:port]) if settings[:enable_ssl]</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>109</pre>
      </td>
      <td>
        <pre>#      pop3.start(settings[:user_name], settings[:password])</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>110</pre>
      </td>
      <td>
        <pre>#    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>111</pre>
      </td>
      <td>
        <pre>#      yield pop3</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>112</pre>
      </td>
      <td>
        <pre>#    ensure</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>113</pre>
      </td>
      <td>
        <pre>#      if defined?(pop3) &amp;&amp; pop3 &amp;&amp; pop3.started?</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>114</pre>
      </td>
      <td>
        <pre>#        pop3.reset # This clears all &quot;deleted&quot; marks from messages.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>115</pre>
      </td>
      <td>
        <pre>#        pop3.finish</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>116</pre>
      </td>
      <td>
        <pre>#      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>117</pre>
      </td>
      <td>
        <pre>#    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>118</pre>
      </td>
      <td>
        <pre>#end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="46493e865e5b50c72c31354b7bdb880fdf481ff4">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/patches/rack.rb</h3>
        <h4><span class="red">57.14 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module Rack</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  module Utils</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>    # Unicode aware escape</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    def escape(s)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>      ustr = s.to_s.dup.force_encoding(&quot;UTF-8&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>      ustr.to_s.gsub(/([^ a-zA-Z0-9_.-]+)/u) {</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>        '%'+$1.unpack('H2'*bytesize($1)).join('%').upcase</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>      }.tr(' ', '+')</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    module_function :escape</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="9e5ce204325e0924c7c124775da3f2e1b6d6bb9d">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/railtie.rb</h3>
        <h4><span class="red">42.86 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require 'common'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>require 'rails'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>require_relative 'railtie_helper'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>module Common </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>  class Railtie &lt; Rails::Railtie</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>   </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    # Configure generators values. Many other options are available, be sure to check the documentation.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    config.generators do |g|</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>      g.orm               :mongo_mapper</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>      #   g.template_engine :erb</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>      #   g.test_framework  :test_unit, :fixture =&gt; true</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>    end </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>   </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>    # Run before first initializer</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>    config.before_initialize do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>      ::AppConfig = AppConfigLoader.load(&quot;#{Rails.root}/config/app_config.yml&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>      ::SecureConfig = AppConfigLoader.load(&quot;#{Rails.root}/config/secure_config.yml&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>      ::FT = FeatureToggle::RailsToggler.load_config(&quot;#{Rails.root}/config/toggles.yml&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>      DbConnection.set</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>    initializer &quot;common.feature_toggler&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>          end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>    initializer &quot;common.register_middlewares&quot; do |app|</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>      app.middleware.use &quot;Rack::I18nJs&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>      app.middleware.use &quot;Rack::MongoMapperCleanup&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>    initializer 'common.formtastic' do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>      Formtastic::SemanticFormBuilder.default_text_field_size = 20</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>      Formtastic::SemanticFormBuilder.required_string = &quot;&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>      Formtastic::SemanticFormBuilder.i18n_lookups_by_default = true</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>   </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>    initializer 'common.action_mailer' do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>      # Email settings</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>      ActionMailer::Base.delivery_method = :test</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>      ActionMailer::Base.raise_delivery_errors = true</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>      ActionMailer::Base.default_url_options[:host] = AppConfig.mailer[:default_url_options][:host]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>      ActionMailer::Base.perform_deliveries = false</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>      ActionMailer::Base.smtp_settings = SecureConfig.smtp_settings.symbolize_keys</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>      if Rails.env.production? || Rails.env.ci? || Rails.env.night?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre>        ActionMailer::Base.delivery_method = :smtp</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>        ActionMailer::Base.perform_deliveries = true    </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre>    initializer &quot;common.configure_rails_initialization&quot; do |app|</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>      app.paths.app.views.push RailtieHelper.resolve_railtie('app/views')</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre>      RailtieHelper.copy_static_files_to_web_server_document_root</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>65</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>66</pre>
      </td>
      <td>
        <pre>    config.to_prepare do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>67</pre>
      </td>
      <td>
        <pre>      RailtieHelper.init_helpers</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>68</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>69</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>70</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>71</pre>
      </td>
      <td>
        <pre>    rake_tasks { RailtieHelper.load_tasks }</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>72</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>73</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>74</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="6f9c9dd89cd5577a0e146ae9ee94e03a41a09fe2">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/railtie_helper.rb</h3>
        <h4><span class="red">38.1 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module Common</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  module RailtieHelper</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>    module_function</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>    # Loads common rake tasks </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>    def load_tasks</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>      each_railtie_file('tasks/*.rake') { |rake_file| load rake_file }   </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    # Initializes  Railtie view helpers</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    def init_helpers</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>      each_railtie_file('app/helpers/*.rb') do |helper_file| </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>        require helper_file; </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>        ::ApplicationController.helper(File.basename(helper_file, '.rb').classify.constantize) </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>    # Iterates files in specified railtie folder</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>    # Non recursive.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>    def each_railtie_file(glob_pattern)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>      Dir.glob(resolve_railtie(glob_pattern)) { |fn| yield(fn) }</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>    # Returns absolute path of the pathname. </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>    # pathname is relative to the railtie root</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>    def resolve_railtie(pathname)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>      root = File.join(File.dirname(__FILE__), 'railties')</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>      File.join(root, pathname)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>    # Copies all files from railtie public folder to the </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>    # public folder of the Rails application</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>    def self.copy_static_files_to_web_server_document_root</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>      public_path = resolve_railtie('public')</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>      ::Dir[::File.join(public_path, '*')].each do |source_path|</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>        dest_path = ::File.join(Rails.root, 'public', source_path.gsub(public_path, ''))</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>        if ::File.directory? source_path</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>          ::FileUtils.cp_r source_path.concat('/.'), dest_path</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>        else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>          ::FileUtils.cp source_path, dest_path</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="b5020828b2c3b656ebed20d8861afc8e558a6329">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/regex.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module Regex</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  EMAIL = /\A[\w\.%\+\-]+@(?:[A-Z0-9\-]+\.)+(?:[A-Z]{2,4}|museum|travel)\z/i</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>  PHONE = /^(\+\d)*\s*/i</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>  # should be valid email for now</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>  USERNNAME = EMAIL</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>  # Alphanumeric, starts with an alphabet and contains no special characters other than underscore or dash</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>  SUBDOMAIN = /^([a-zA-Z])[a-zA-Z_-]*[\w_-]*[\S]$|^([a-zA-Z])[0-9_-]*[\S]$|^[a-zA-Z]*[\S]$/i</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="4ee65a4a04741b12662ff91851b8dd20838d0512">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/rules.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require_relative 'rules/rule_set'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>require_relative 'rules/engine'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>require_relative 'rules/rule'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>require_relative 'rules/condition_set'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="d6dcf30fb49d237a35f99fa1e6b1526244020ed4">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/rules/condition_set.rb</h3>
        <h4><span class="red">46.43 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>module Rules</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  # defines named condition set for further use in rule definition</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  class ConditionSet</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    attr_accessor :user, :context, :conditions</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>    cattr_accessor :instance, :dsl_dir</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>    def self.dsl_dir=(value)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>      @@dsl_dir = value</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    def self.dsl_dir</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>      @@dsl_dir || &quot;#{Rails.root}/config/visibility_rules&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>    class ConditionMapper</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>      def initialize(set)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>        @set = set</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>      def condition(name, &amp;has_role_predicate)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>        @set.add_condition(name, has_role_predicate.call)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>    # user - current user, context - entity under  rule evaluation - Call, Incident, .. </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>    def initialize(user, context)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>      @conditions = {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>      @user = user</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>      @context = context</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>    def parse_dsl</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>      ConditionSet.instance = self</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>      context_class = context.class</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>      begin</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>        dsl_file = File.join(self.class.dsl_dir, &quot;#{context_class.to_s.underscore}.conditions&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>        context_class = context_class.superclass </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>      end while not (File.exists?(dsl_file) || context_class.nil? )</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>      load(dsl_file)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>    # Reads and parses actor definition file. Parsed actors are then available in rule definition </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>    def define</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>      yield ConditionMapper.new(self), @user, @context</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>    def add_condition(name, has_role)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>      @conditions[name] = has_role</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="69849179cd3ecd72cd4e93ff08f242b1a312b4ca">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/rules/engine.rb</h3>
        <h4><span class="red">28.57 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>module Rules</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>  # parses and evaluates form visibility rules</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>  class Engine</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>    attr_accessor :user, :context, :conditions, :rule_set, :rules</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    cattr_accessor :logger</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    # user - current user, context - entity under  rule evaluation - Call, Incident, .. </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>    def initialize(user, context)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>      return unless context.respond_to?(:state_name)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>      @user = user</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>      @context = context</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>      @conditions = parse_conditions</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>      @rule_set = RuleSet.new(@user, @context, @conditions)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>      @rule_set.parse_dsl</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>      @rules = @rule_set.rules</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>    def parse_conditions</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>      condition_set = ConditionSet.new(@user, @context)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>      condition_set.parse_dsl</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>      condition_set.conditions</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>    def parse_rules</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>      RuleSet.new(@user, @context, @conditions)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>      @rule_set.parse_dsl</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>    # returns visibility state for given control according to the rule definitions.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>    def evaluate(control_name)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>      return Rule.enabled if @rules.nil?</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>      rule_name = control_name</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>      if control_name.to_s.end_with?('_id') &amp;&amp; !@rules.has_key?(rule_name)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>        rule_name = control_name.to_s.gsub(/_id$/, &quot;&quot;).to_sym</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>        self.class.logger.debug(&quot;:#{control_name} rule is not defined, trying #{rule_name}&quot;) if self.class.logger</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>      ret_val = @rules.fetch(rule_name, @rule_set.default_rule )</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>      self.class.logger.debug(&quot;:#{rule_name}  evaluated as :#{ret_val.inspect}&quot;) if self.class.logger</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>      ret_val</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>   </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="caabb968a664ee3fd7c02c2625fcffd24533eec5">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/rules/rule.rb</h3>
        <h4><span class="red">50.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module Rules</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  # defines current control state</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  class Rule</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>    attr_accessor :visibility, :panel_state</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    def inspect</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>      &quot;visibility: #{@visibility}, panel_state: #{@panel_state}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>    def self.enabled</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>      r = Rule.new</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>      r.visibility  = :enabled</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>      r.panel_state = :expanded</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>      r</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>    def enabled?</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>      visibility==:enabled</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>    def disabled?</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>      visibility==:disabled</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>    def hidden?</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>      visibility==:hidden</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>    def expanded?</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>      panel_state==:expanded</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>    def collapsed?</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>      panel_state==:collapsed</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="7d6905d91814a82762e743ffb00775aea0551e20">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/rules/rule_set.rb</h3>
        <h4><span class="red">41.89 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>module Rules</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  # defines rule set</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>  class RuleSet</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>    attr_accessor :user, :context, :conditions, :rules, :default_state, :default_panel_state</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>    cattr_accessor :instance, :dsl_dir</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>    def self.dsl_dir=(value)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>      @@dsl_dir = value</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>    def self.dsl_dir</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>      @@dsl_dir || &quot;#{Rails.root}/config/visibility_rules&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>    class RuleMapper</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>      def initialize(set)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>        @set = set</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>      def enable_if(condition, control_name)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>        @set.add_visibility_rule(control_name, :enabled) if condition</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>      def disable_if(condition, control_name)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>        @set.add_visibility_rule(control_name, :disabled) if condition</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>      def hide_if(condition, control_name)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>        @set.add_visibility_rule(control_name, :hidden) if condition</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>      def expand(control_name)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>        @set.add_panel_state_rule(control_name, :expanded) </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>      def collapse(control_name)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>        @set.add_panel_state_rule(control_name, :collapsed) </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>      def enable(control_name)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>        @set.add_visibility_rule(control_name, :enabled) </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>      def disable(control_name)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>        @set.add_visibility_rule(control_name, :disabled) </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>      def disable_all</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>        @set.disable_all</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre>      def disable_all_unless(condition)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>        @set.disable_all unless condition</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre>      def enable_all</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre>        @set.enable_all</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre>      def expand_all_panels</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre>        @set.expand_all_panels</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>65</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>66</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>67</pre>
      </td>
      <td>
        <pre>      def hide(control_name)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>68</pre>
      </td>
      <td>
        <pre>        @set.add_visibility_rule(control_name, :hidden) </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>69</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>70</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>71</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>72</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>73</pre>
      </td>
      <td>
        <pre>    # user - current user, context - entity under  rule evaluation - Call, Incident, .. </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>74</pre>
      </td>
      <td>
        <pre>    def initialize(user, context, conditions)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>75</pre>
      </td>
      <td>
        <pre>      @conditions = conditions</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>76</pre>
      </td>
      <td>
        <pre>      @user = user</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>77</pre>
      </td>
      <td>
        <pre>      @context = context</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>78</pre>
      </td>
      <td>
        <pre>      @rules = {}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>79</pre>
      </td>
      <td>
        <pre>      @default_state = :enabled</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>80</pre>
      </td>
      <td>
        <pre>      @default_panel_state = :collapsed</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>81</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>82</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>83</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>84</pre>
      </td>
      <td>
        <pre>    def parse_dsl</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>85</pre>
      </td>
      <td>
        <pre>      RuleSet.instance = self</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>86</pre>
      </td>
      <td>
        <pre>      dsl_context_dir = File.join(self.class.dsl_dir, context.class.to_s.underscore)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>87</pre>
      </td>
      <td>
        <pre>      defaults_dsl_file = File.join(dsl_context_dir, &quot;_defaults.rules&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>88</pre>
      </td>
      <td>
        <pre>      dsl_file = File.join(dsl_context_dir, &quot;#{@context.state_name}.rules&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>89</pre>
      </td>
      <td>
        <pre>      load(defaults_dsl_file) if File.exists?(defaults_dsl_file)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>90</pre>
      </td>
      <td>
        <pre>      load(dsl_file)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>91</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>92</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>93</pre>
      </td>
      <td>
        <pre>    def context_class_symbol</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>94</pre>
      </td>
      <td>
        <pre>      @context.class.to_s.underscore.to_sym</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>95</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>96</pre>
      </td>
      <td>
        <pre>    # Reads and parses actor definition file. Parsed actors are then available in rule definition </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>97</pre>
      </td>
      <td>
        <pre>    def define</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>98</pre>
      </td>
      <td>
        <pre>      predicates = Object.new</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>99</pre>
      </td>
      <td>
        <pre>      @conditions.each {|k, v| predicates.class.send(:define_method, &quot;#{k}?&quot;) { v } }</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>100</pre>
      </td>
      <td>
        <pre>      yield RuleMapper.new(self), @conditions, @context</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>101</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>102</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>103</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>104</pre>
      </td>
      <td>
        <pre>    def add_visibility_rule(name, state)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>105</pre>
      </td>
      <td>
        <pre>     init_rule(name, state).visibility = state</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>106</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>107</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>108</pre>
      </td>
      <td>
        <pre>    def add_panel_state_rule(name, state)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>109</pre>
      </td>
      <td>
        <pre>      init_rule(name, state).panel_state = state</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>110</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>111</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>112</pre>
      </td>
      <td>
        <pre>    def init_rule(name, state)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>113</pre>
      </td>
      <td>
        <pre>      key = &quot;#{context_class_symbol}_#{name}&quot;.to_sym</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>114</pre>
      </td>
      <td>
        <pre>      @rules[key] = Rule.new unless @rules.include?(key)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>115</pre>
      </td>
      <td>
        <pre>      @rules[key]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>116</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>117</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>118</pre>
      </td>
      <td>
        <pre>    # disables all non hidden currently defined rules. Sets default_state to :disabled for the not defined rules</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>119</pre>
      </td>
      <td>
        <pre>    def disable_all</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>120</pre>
      </td>
      <td>
        <pre>      # rules_to_disable = @rules.select {|key, value| value!=:hidden} </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>121</pre>
      </td>
      <td>
        <pre>      #       rules_to_disable.each_key { |key| @rules[key] = :disabled }</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>122</pre>
      </td>
      <td>
        <pre>      @default_state = :disabled</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>123</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>124</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>125</pre>
      </td>
      <td>
        <pre>    # enables all rules. Sets default_state to :enabled for the not defined rules</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>126</pre>
      </td>
      <td>
        <pre>    def enable_all</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>127</pre>
      </td>
      <td>
        <pre>      # rules_to_disable = @rules.select {|key, value| value!=:hidden} </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>128</pre>
      </td>
      <td>
        <pre>      #       rules_to_disable.each_key { |key| @rules[key] = :disabled }</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>129</pre>
      </td>
      <td>
        <pre>      @default_state = :enabled</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>130</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>131</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>132</pre>
      </td>
      <td>
        <pre>    # expands all panels. Sets default_state to :expanded for the not defined rules</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>133</pre>
      </td>
      <td>
        <pre>    def expand_all_panels</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>134</pre>
      </td>
      <td>
        <pre>      @default_panel_state = :expanded</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>135</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>136</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>137</pre>
      </td>
      <td>
        <pre>    def default_rule</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>138</pre>
      </td>
      <td>
        <pre>      r = Rule.new</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>139</pre>
      </td>
      <td>
        <pre>      r.visibility = @default_state</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>140</pre>
      </td>
      <td>
        <pre>      r.panel_state = @default_panel_state</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>141</pre>
      </td>
      <td>
        <pre>      r</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>142</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>143</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>144</pre>
      </td>
      <td>
        <pre>   </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>145</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>146</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>147</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>148</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="f28d604e6fa7745346509dfb5cff28560c925e39">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/common/simple_uuid.rb</h3>
        <h4><span class="red">36.36 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>class Time</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  def self.stamp</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>    Time.now.stamp</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>  def stamp</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>    to_i * 1_000_000 + usec</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>module SimpleUUID</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>  # UUID format version 1, as specified in RFC 4122, with jitter in place of the mac address and sequence counter.</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>  class UUID</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>    class InvalidVersion &lt; StandardError #:nodoc:</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>    GREGORIAN_EPOCH_OFFSET = 0x01B2_1DD2_1381_4000 # Oct 15, 1582</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>    VARIANT = 0b1000_0000_0000_0000</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>    def initialize(bytes = nil)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>      case bytes</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>      when self.class # UUID</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>        @bytes = bytes.to_s</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>      when String</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>        case bytes.size</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>        when 16 # Raw byte array</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>          @bytes = bytes</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>        when 36 # Human-readable UUID representation; inverse of #to_guid</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>          elements = bytes.split(&quot;-&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>          raise TypeError, &quot;Expected #{bytes.inspect} to cast to a #{self.class} (malformed UUID representation)&quot; if elements.size != 5</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>          @bytes = [elements.join].pack('H32')</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>        else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>          raise TypeError, &quot;Expected #{bytes.inspect} to cast to a #{self.class} (invalid bytecount)&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>      when Integer</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>        raise TypeError, &quot;Expected #{bytes.inspect} to cast to a #{self.class} (integer out of range)&quot; if bytes &lt; 0 or bytes &gt; 2**128</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>        @bytes = [</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>          (bytes &gt;&gt; 96) &amp; 0xFFFF_FFFF,</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>          (bytes &gt;&gt; 64) &amp; 0xFFFF_FFFF,</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>          (bytes &gt;&gt; 32) &amp; 0xFFFF_FFFF,</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>          bytes &amp; 0xFFFF_FFFF</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>        ].pack(&quot;NNNN&quot;)</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>      when NilClass, Time</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>        time = (bytes || Time).stamp * 10 + GREGORIAN_EPOCH_OFFSET</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>        # See http://github.com/spectra/ruby-uuid/</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>        @bytes = [</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>          time &amp; 0xFFFF_FFFF,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>          time &gt;&gt; 32,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>          ((time &gt;&gt; 48) &amp; 0x0FFF) | 0x1000,</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>          # Top 3 bytes reserved</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre>          rand(2**13) | VARIANT,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>          rand(2**16),</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>          rand(2**32)</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre>        ].pack(&quot;NnnnnN&quot;)</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre>      else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>        raise TypeError, &quot;Expected #{bytes.inspect} to cast to a #{self.class} (unknown source class)&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>65</pre>
      </td>
      <td>
        <pre>    def to_i</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>66</pre>
      </td>
      <td>
        <pre>      ints = @bytes.unpack(&quot;NNNN&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>67</pre>
      </td>
      <td>
        <pre>      (ints[0] &lt;&lt; 96) +</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>68</pre>
      </td>
      <td>
        <pre>      (ints[1] &lt;&lt; 64) +</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>69</pre>
      </td>
      <td>
        <pre>      (ints[2] &lt;&lt; 32) +</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>70</pre>
      </td>
      <td>
        <pre>      ints[3]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>71</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>72</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>73</pre>
      </td>
      <td>
        <pre>    def version</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>74</pre>
      </td>
      <td>
        <pre>      time_high = @bytes.unpack(&quot;NnnQ&quot;)[2]</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>75</pre>
      </td>
      <td>
        <pre>      version = (time_high &amp; 0xF000).to_s(16)[0].chr.to_i</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>76</pre>
      </td>
      <td>
        <pre>      version &gt; 0 and version &lt; 6 ? version : -1</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>77</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>78</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>79</pre>
      </td>
      <td>
        <pre>    def variant</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>80</pre>
      </td>
      <td>
        <pre>      @bytes.unpack('QnnN')[1] &gt;&gt; 13</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>81</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>82</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>83</pre>
      </td>
      <td>
        <pre>    def to_guid</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>84</pre>
      </td>
      <td>
        <pre>      elements = @bytes.unpack(&quot;NnnCCa6&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>85</pre>
      </td>
      <td>
        <pre>      node = elements[-1].unpack('C*')</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>86</pre>
      </td>
      <td>
        <pre>      elements[-1] = '%02x%02x%02x%02x%02x%02x' % node</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>87</pre>
      </td>
      <td>
        <pre>      &quot;%08x-%04x-%04x-%02x%02x-%s&quot; % elements</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>88</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>89</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>90</pre>
      </td>
      <td>
        <pre>    def seconds</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>91</pre>
      </td>
      <td>
        <pre>      total_usecs / 1_000_000</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>92</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>93</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>94</pre>
      </td>
      <td>
        <pre>    def usecs</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>95</pre>
      </td>
      <td>
        <pre>      total_usecs % 1_000_000</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>96</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>97</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>98</pre>
      </td>
      <td>
        <pre>    def &lt;=&gt;(other)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>99</pre>
      </td>
      <td>
        <pre>      total_usecs &lt;=&gt; other.send(:total_usecs)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>100</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>101</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>102</pre>
      </td>
      <td>
        <pre>    def ==(other)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>103</pre>
      </td>
      <td>
        <pre>      to_s == other.to_s</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>104</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>105</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>106</pre>
      </td>
      <td>
        <pre>    def inspect(long = false)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>107</pre>
      </td>
      <td>
        <pre>      &quot;&lt;UUID##{object_id} time: #{</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>108</pre>
      </td>
      <td>
        <pre>        Time.at(seconds).inspect</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>109</pre>
      </td>
      <td>
        <pre>      }, usecs: #{</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>110</pre>
      </td>
      <td>
        <pre>        usecs</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>111</pre>
      </td>
      <td>
        <pre>      } jitter: #{</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>112</pre>
      </td>
      <td>
        <pre>        @bytes.unpack('QQ')[1]</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>113</pre>
      </td>
      <td>
        <pre>      }&quot; + (long ? &quot;, version: #{version}, variant: #{variant}, guid: #{to_guid}&gt;&quot; :  &quot;&gt;&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>114</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>115</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>116</pre>
      </td>
      <td>
        <pre>    def to_s</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>117</pre>
      </td>
      <td>
        <pre>      @bytes</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>118</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>119</pre>
      </td>
      <td>
        <pre>    alias bytes to_s</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>120</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>121</pre>
      </td>
      <td>
        <pre>    def hash</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>122</pre>
      </td>
      <td>
        <pre>      @bytes.hash</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>123</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>124</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>125</pre>
      </td>
      <td>
        <pre>    def eql?(other)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>126</pre>
      </td>
      <td>
        <pre>      other.respond_to?(:bytes) &amp;&amp; bytes == other.bytes</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>127</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>128</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>129</pre>
      </td>
      <td>
        <pre>    private</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>130</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>131</pre>
      </td>
      <td>
        <pre>    def total_usecs</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>132</pre>
      </td>
      <td>
        <pre>      elements = @bytes.unpack(&quot;NnnQ&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>133</pre>
      </td>
      <td>
        <pre>      (elements[0] + (elements[1] &lt;&lt; 32) + ((elements[2] &amp; 0x0FFF) &lt;&lt; 48) - GREGORIAN_EPOCH_OFFSET) / 10</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>134</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>135</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>136</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
      </div>
    </div>
  </body>
</html>
